# Mini-UPS 测试数据说明文档

本文档记录了为Mini-UPS系统添加的测试数据，方便API测试和功能验证。

## 📊 数据统计概览

| 数据类型 | 数量 | 说明 |
|---------|------|------|
| 用户 (Users) | 9个 | 包含不同角色的测试账户 |
| 卡车 (Trucks) | 7辆 | 不同状态的运输车辆 |
| 运输订单 (Shipments) | 9个 | 涵盖完整业务流程的订单 |
| 包裹 (Packages) | 15个 | 各种类型和尺寸的包裹 |
| 状态历史记录 | 35条 | 订单状态变更追踪记录 |

## 🔑 测试账户信息

### 司机账户 (DRIVER)
| 用户名 | 邮箱 | 姓名 | 电话 |
|--------|------|------|------|
| driver001 | john.driver@miniups.com | John Driver | +1-555-1001 |
| driver002 | mike.driver@miniups.com | Mike Wilson | +1-555-1002 |
| driver003 | sarah.driver@miniups.com | Sarah Johnson | +1-555-1003 |

### 普通用户 (USER)
| 用户名 | 邮箱 | 姓名 | 电话 | 地址 |
|--------|------|------|------|------|
| user001 | alice.smith@email.com | Alice Smith | +1-555-2001 | 100 Main St, Raleigh, NC |
| user002 | bob.jones@email.com | Bob Jones | +1-555-2002 | 200 Oak Ave, Charlotte, NC |
| user003 | carol.brown@email.com | Carol Brown | +1-555-2003 | 300 Pine St, Greensboro, NC |
| user004 | david.wilson@email.com | David Wilson | +1-555-2004 | 400 Elm St, Winston-Salem, NC |
| user005 | emma.davis@email.com | Emma Davis | +1-555-2005 | 500 Maple Ave, Asheville, NC |

**注意**: 所有密码都是 `password123` 的BCrypt加密版本

## 🚛 卡车测试数据

| 卡车ID | 状态 | 当前位置 | 载重能力 | 司机ID | 说明 |
|--------|------|----------|----------|--------|------|
| 1001 | IDLE | (50, 50) | 100 | 3 | 空闲，可接受新订单 |
| 1002 | IDLE | (75, 25) | 150 | 4 | 空闲，可接受新订单 |
| 1003 | IDLE | (30, 80) | 120 | 5 | 空闲，可接受新订单 |
| 1004 | DELIVERING | (150, 200) | 100 | 3 | 正在配送订单3 |
| 1005 | TRAVELING | (80, 120) | 130 | 4 | 前往目的地配送订单4 |
| 1006 | AT_WAREHOUSE | (100, 100) | 140 | 5 | 在仓库待命，订单5已取货 |
| 1007 | LOADING | (100, 100) | 110 | 3 | 正在装载订单7的包裹 |

## 📦 运输订单测试数据

### 已完成订单
| 订单ID | UPS追踪号 | 状态 | 用户 | 卡车 | 重量 | 配送时间 |
|--------|-----------|------|------|------|------|----------|
| AMZ-20240101-001 | UPS-1Z001001 | DELIVERED | Alice Smith | 1001 | 2.50kg | 2024-01-02 15:45 |
| AMZ-20240101-002 | UPS-1Z001002 | DELIVERED | Bob Jones | 1002 | 1.25kg | 2024-01-02 17:30 |

### 进行中订单
| 订单ID | UPS追踪号 | 状态 | 用户 | 卡车 | 重量 | 预计配送 |
|--------|-----------|------|------|------|------|----------|
| AMZ-20240102-001 | UPS-1Z002001 | OUT_FOR_DELIVERY | Carol Brown | 1004 | 3.75kg | 2024-01-03 17:00 |
| AMZ-20240102-002 | UPS-1Z002002 | IN_TRANSIT | David Wilson | 1005 | 5.00kg | 2024-01-03 19:00 |
| AMZ-20240103-001 | UPS-1Z003001 | PICKED_UP | Emma Davis | 1006 | 2.00kg | 2024-01-04 16:00 |

### 待处理订单
| 订单ID | UPS追踪号 | 状态 | 用户 | 卡车 | 重量 | 预计配送 |
|--------|-----------|------|------|------|------|----------|
| AMZ-20240103-002 | UPS-1Z003002 | CREATED | Alice Smith | 未分配 | 1.75kg | 2024-01-04 18:00 |
| AMZ-20240103-003 | UPS-1Z003003 | TRUCK_DISPATCHED | Bob Jones | 1007 | 4.50kg | 2024-01-04 20:00 |

### 异常订单
| 订单ID | UPS追踪号 | 状态 | 用户 | 原因 |
|--------|-----------|------|------|------|
| AMZ-20240102-003 | UPS-1Z002003 | DELIVERY_ATTEMPTED | Carol Brown | 客户不在，将重新配送 |
| AMZ-20240101-003 | UPS-1Z001003 | CANCELLED | David Wilson | 客户取消订单 |

## 📋 包裹详细信息

### 电子产品类
| 包裹ID | 描述 | 重量 | 尺寸(长×宽×高) | 价值 | 易碎 |
|--------|------|------|----------------|------|------|
| PKG-001-001 | 智能手机 | 0.45kg | 15×8×2 cm | $299.99 | 否 |
| PKG-008-001 | 游戏机 | 2.50kg | 40×30×15 cm | $399.99 | 否 |

### 家居用品类
| 包裹ID | 描述 | 重量 | 尺寸(长×宽×高) | 价值 | 易碎 |
|--------|------|------|----------------|------|------|
| PKG-003-001 | 搅拌机 | 2.80kg | 35×25×30 cm | $129.99 | 否 |
| PKG-007-001 | 台灯 | 2.20kg | 25×25×45 cm | $79.99 | 是 |

### 服装类
| 包裹ID | 描述 | 重量 | 尺寸(长×宽×高) | 价值 | 易碎 |
|--------|------|------|----------------|------|------|
| PKG-005-001 | 冬季夹克 | 1.20kg | 30×25×8 cm | $89.99 | 否 |
| PKG-005-002 | 手套围巾套装 | 0.80kg | 25×20×5 cm | $34.99 | 否 |

### 运动用品类
| 包裹ID | 描述 | 重量 | 尺寸(长×宽×高) | 价值 | 易碎 |
|--------|------|------|----------------|------|------|
| PKG-006-001 | 网球拍 | 1.75kg | 70×30×5 cm | $149.99 | 是 |

## 🔄 状态历史记录

每个订单都有完整的状态变更历史，包括：
- **CREATED**: 订单创建时间
- **TRUCK_DISPATCHED**: 卡车分配和派遣
- **PICKED_UP**: 包裹取货时间
- **IN_TRANSIT**: 运输过程中
- **OUT_FOR_DELIVERY**: 最终配送
- **DELIVERED**: 成功配送
- **DELIVERY_ATTEMPTED**: 配送尝试失败
- **CANCELLED**: 订单取消

## 🗺️ 地理坐标说明

测试数据使用的坐标系统：
- **仓库位置**: (100, 100)
- **配送范围**: X坐标 30-300，Y坐标 25-250
- **实际地址**: 对应北卡罗来纳州各城市

## 🧪 API测试建议

### 认证测试
```bash
# 用户登录
POST /api/auth/login
{
  "email": "alice.smith@email.com",
  "password": "password123"
}
```

### 订单查询测试
```bash
# 查询用户订单
GET /api/shipments/user/{userId}

# 订单状态追踪
GET /api/tracking/{trackingId}
```

### 卡车管理测试
```bash
# 查询可用卡车
GET /api/trucks/available

# 更新卡车位置
PUT /api/trucks/{truckId}/location
```

### 管理员功能测试
```bash
# 查看所有订单
GET /api/admin/shipments

# 分配卡车
POST /api/admin/assign-truck
```

## 📝 数据文件位置

- **SQL脚本**: `/database/sample_data.sql`
- **执行日志**: 数据已成功插入本地PostgreSQL数据库
- **数据库**: `ups_db` (localhost:5432)

## ⚠️ 注意事项

1. **密码安全**: 测试环境使用统一密码，生产环境请使用强密码策略
2. **数据清理**: 测试完成后可使用 `TRUNCATE` 命令清理测试数据
3. **序列重置**: 数据插入时已正确设置序列值
4. **外键约束**: 所有关联关系已正确建立

---

*最后更新: 2024-01-03*  
*数据生成工具: Claude Code*