import { c as createLucideIcon, r as reactExports, j as jsxRuntimeExports, h as createContextScope, i as Primitive, e as cn, B as Button, M as MapPin, X, m as Plus, v as Skeleton, S as Search, U as User, P as Package, w as useControllableState, x as createCollection, y as composeEventHandlers, z as useComposedRefs, A as useDirection, C as useSize, D as usePrevious, E as createPopperScope, R as Root2$1, F as useId, G as Anchor, H as Presence, I as Portal$1, J as hideOthers, K as ReactRemoveScroll, O as createSlot, Q as useFocusGuards, V as FocusScope, W as DismissableLayer, Y as Content, Z as Arrow, T as Truck, u as useNavigate, b as useAuthStore, t as toast } from "./index-D-bA2lkg.js";
import { o as object, s as string, n as number, _ as _enum, b as boolean, u as useForm, a, M as Mail } from "./schemas-DKKe2DjN.js";
import { u as useMutation } from "./useMutation-glqHjIDc.js";
import { C as Card, a as CardHeader, b as CardTitle, d as CardContent, c as CardDescription } from "./card-CsLEcWf3.js";
import { A as Alert, a as AlertDescription } from "./alert-Qw-zBtar.js";
import { B as Badge } from "./badge-2PvS7lZW.js";
import { s as shipmentApi } from "./shipment-DiICAfSs.js";
import { I as Input } from "./input-BHuFzm78.js";
import { L as Label } from "./label-BLnRWPXy.js";
import { D as Dialog, a as DialogTrigger, b as DialogContent, c as DialogHeader, d as DialogTitle, N as Navigation } from "./dialog-BrBMijH0.js";
import { P as Phone, S as Save } from "./save-CQA7iOAY.js";
import { C as Check } from "./check-DBMoG0qQ.js";
import { A as AlertCircle } from "./alert-circle-DRL_kTZp.js";
import { C as CheckCircle } from "./check-circle-9Vi05KqK.js";
import { R as RefreshCw } from "./refresh-cw-DEEM45_N.js";
import { A as AlertTriangle, D as DollarSign } from "./dollar-sign-BbdAF-ke.js";
import { c as clamp, S as Select, a as SelectTrigger, b as SelectValue, d as SelectContent, e as SelectItem, T as Tabs, f as TabsList, g as TabsTrigger, h as TabsContent } from "./tabs-BW6p3V7a.js";
import { S as Shield } from "./shield-DvnO75-W.js";
import { C as Clock } from "./clock-BBOft3LF.js";
import { S as Star } from "./star-DGBC-hS9.js";
import { C as ChevronRight } from "./chevron-right-B1ZewIMz.js";
import { C as Calendar$1 } from "./calendar-OA7BM1TB.js";
import { A as ArrowLeft } from "./arrow-left-B7fHnPbY.js";
import { A as ArrowRight } from "./arrow-right-Dc_2qAW5.js";
import "./chevron-up-5dIABbZ-.js";
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Book = createLucideIcon("Book", [
  ["path", { d: "M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20", key: "t4utmx" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Calculator = createLucideIcon("Calculator", [
  ["rect", { width: "16", height: "20", x: "4", y: "2", rx: "2", key: "1nb95v" }],
  ["line", { x1: "8", x2: "16", y1: "6", y2: "6", key: "x4nwl0" }],
  ["line", { x1: "16", x2: "16", y1: "14", y2: "18", key: "wjye3r" }],
  ["path", { d: "M16 10h.01", key: "1m94wz" }],
  ["path", { d: "M12 10h.01", key: "1nrarc" }],
  ["path", { d: "M8 10h.01", key: "19clt8" }],
  ["path", { d: "M12 14h.01", key: "1etili" }],
  ["path", { d: "M8 14h.01", key: "6423bh" }],
  ["path", { d: "M12 18h.01", key: "mhygvu" }],
  ["path", { d: "M8 18h.01", key: "lrp35t" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ChevronLeft = createLucideIcon("ChevronLeft", [
  ["path", { d: "m15 18-6-6 6-6", key: "1wnfg3" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const FileText = createLucideIcon("FileText", [
  [
    "path",
    { d: "M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z", key: "1nnpy2" }
  ],
  ["polyline", { points: "14 2 14 8 20 8", key: "1ew0cm" }],
  ["line", { x1: "16", x2: "8", y1: "13", y2: "13", key: "14keom" }],
  ["line", { x1: "16", x2: "8", y1: "17", y2: "17", key: "17nazh" }],
  ["line", { x1: "10", x2: "8", y1: "9", y2: "9", key: "1a5vjj" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Info = createLucideIcon("Info", [
  ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
  ["path", { d: "M12 16v-4", key: "1dtifu" }],
  ["path", { d: "M12 8h.01", key: "e9boi3" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Pen = createLucideIcon("Pen", [
  ["path", { d: "M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z", key: "5qss01" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ruler = createLucideIcon("Ruler", [
  [
    "path",
    {
      d: "M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",
      key: "icamh8"
    }
  ],
  ["path", { d: "m14.5 12.5 2-2", key: "inckbg" }],
  ["path", { d: "m11.5 9.5 2-2", key: "fmmyf7" }],
  ["path", { d: "m8.5 6.5 2-2", key: "vc6u1g" }],
  ["path", { d: "m17.5 15.5 2-2", key: "wo5hmg" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Scale = createLucideIcon("Scale", [
  ["path", { d: "m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z", key: "7g6ntu" }],
  ["path", { d: "m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z", key: "ijws7r" }],
  ["path", { d: "M7 21h10", key: "1b0cd5" }],
  ["path", { d: "M12 3v18", key: "108xh3" }],
  ["path", { d: "M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2", key: "3gwbw2" }]
]);
/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Weight = createLucideIcon("Weight", [
  ["circle", { cx: "12", cy: "5", r: "3", key: "rqqgnr" }],
  [
    "path",
    {
      d: "M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",
      key: "56o5sh"
    }
  ]
]);
var PROGRESS_NAME = "Progress";
var DEFAULT_MAX = 100;
var [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);
var [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);
var Progress$1 = reactExports.forwardRef(
  (props, forwardedRef) => {
    const {
      __scopeProgress,
      value: valueProp = null,
      max: maxProp,
      getValueLabel = defaultGetValueLabel,
      ...progressProps
    } = props;
    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {
      console.error(getInvalidMaxError(`${maxProp}`, "Progress"));
    }
    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;
    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {
      console.error(getInvalidValueError(`${valueProp}`, "Progress"));
    }
    const value = isValidValueNumber(valueProp, max) ? valueProp : null;
    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;
    return /* @__PURE__ */ jsxRuntimeExports.jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.div,
      {
        "aria-valuemax": max,
        "aria-valuemin": 0,
        "aria-valuenow": isNumber(value) ? value : void 0,
        "aria-valuetext": valueLabel,
        role: "progressbar",
        "data-state": getProgressState(value, max),
        "data-value": value ?? void 0,
        "data-max": max,
        ...progressProps,
        ref: forwardedRef
      }
    ) });
  }
);
Progress$1.displayName = PROGRESS_NAME;
var INDICATOR_NAME = "ProgressIndicator";
var ProgressIndicator = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopeProgress, ...indicatorProps } = props;
    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.div,
      {
        "data-state": getProgressState(context.value, context.max),
        "data-value": context.value ?? void 0,
        "data-max": context.max,
        ...indicatorProps,
        ref: forwardedRef
      }
    );
  }
);
ProgressIndicator.displayName = INDICATOR_NAME;
function defaultGetValueLabel(value, max) {
  return `${Math.round(value / max * 100)}%`;
}
function getProgressState(value, maxValue) {
  return value == null ? "indeterminate" : value === maxValue ? "complete" : "loading";
}
function isNumber(value) {
  return typeof value === "number";
}
function isValidMaxNumber(max) {
  return isNumber(max) && !isNaN(max) && max > 0;
}
function isValidValueNumber(value, max) {
  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;
}
function getInvalidMaxError(propValue, componentName) {
  return `Invalid prop \`max\` of value \`${propValue}\` supplied to \`${componentName}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`;
}
function getInvalidValueError(propValue, componentName) {
  return `Invalid prop \`value\` of value \`${propValue}\` supplied to \`${componentName}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`;
}
var Root$1 = Progress$1;
var Indicator = ProgressIndicator;
const Progress = reactExports.forwardRef(({ className, value, ...props }, ref) => /* @__PURE__ */ jsxRuntimeExports.jsx(
  Root$1,
  {
    ref,
    className: cn(
      "relative h-2 w-full overflow-hidden rounded-full bg-gray-100",
      className
    ),
    ...props,
    children: /* @__PURE__ */ jsxRuntimeExports.jsx(
      Indicator,
      {
        className: "h-full w-full flex-1 bg-blue-600 transition-all",
        style: { transform: `translateX(-${100 - (value || 0)}%)` }
      }
    )
  }
));
Progress.displayName = Root$1.displayName;
const senderInfoSchema = object({
  senderName: string().min(1, "Sender name is required"),
  senderEmail: string().email("Invalid email address"),
  senderPhone: string().min(10, "Phone number must be at least 10 digits"),
  senderAddress: string().min(1, "Sender address is required")
});
const recipientInfoSchema = object({
  recipientName: string().min(1, "Recipient name is required"),
  recipientEmail: string().email("Invalid email address"),
  recipientPhone: string().min(10, "Phone number must be at least 10 digits"),
  recipientAddress: string().min(1, "Recipient address is required"),
  destinationX: number().min(-1e3).max(1e3),
  destinationY: number().min(-1e3).max(1e3)
});
const packageDetailsSchema = object({
  packageDescription: string().min(1, "Package description is required"),
  packageWeight: number().min(0.1, "Weight must be at least 0.1 kg"),
  packageLength: number().min(1, "Length must be at least 1 cm"),
  packageWidth: number().min(1, "Width must be at least 1 cm"),
  packageHeight: number().min(1, "Height must be at least 1 cm"),
  packageValue: number().min(0, "Package value cannot be negative"),
  specialInstructions: string().optional()
});
const serviceSelectionSchema = object({
  deliverySpeed: _enum(["STANDARD", "EXPRESS", "OVERNIGHT"])
});
const confirmationSchema = object({
  termsAccepted: boolean().refine((val) => val === true, "You must accept the terms and conditions"),
  marketingOptIn: boolean().optional()
});
const createShipmentSchema = senderInfoSchema.and(recipientInfoSchema).and(packageDetailsSchema).and(serviceSelectionSchema).and(confirmationSchema);
const FORM_STEPS = [
  { id: 1, title: "Sender Information", description: "Your contact details" },
  { id: 2, title: "Recipient Information", description: "Delivery destination" },
  { id: 3, title: "Package Details", description: "Package specifications" },
  { id: 4, title: "Service Selection", description: "Choose shipping service" },
  { id: 5, title: "Review & Confirm", description: "Final confirmation" }
];
const DRAFT_STORAGE_KEY = "shipment-form-draft";
const addressSchema = object({
  name: string().min(1, "Name is required"),
  email: string().email("Invalid email address"),
  phone: string().min(10, "Phone number must be at least 10 digits"),
  address: string().min(1, "Address is required"),
  label: string().min(1, "Label is required")
});
const STORAGE_KEY = "ups-address-book";
const AddressBook = ({
  onSelectAddress,
  currentAddress,
  type
}) => {
  const [addresses, setAddresses] = reactExports.useState(() => {
    const saved = localStorage.getItem(STORAGE_KEY);
    return saved ? JSON.parse(saved) : [];
  });
  const [isAddingNew, setIsAddingNew] = reactExports.useState(false);
  const [searchTerm, setSearchTerm] = reactExports.useState("");
  const form = useForm({
    resolver: a(addressSchema),
    defaultValues: {
      name: "",
      email: "",
      phone: "",
      address: "",
      label: ""
    }
  });
  const saveAddresses = (newAddresses) => {
    setAddresses(newAddresses);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(newAddresses));
  };
  const handleAddAddress = (data) => {
    const newAddress = {
      ...data,
      id: Date.now().toString(),
      createdAt: (/* @__PURE__ */ new Date()).toISOString()
    };
    const updatedAddresses = [newAddress, ...addresses];
    saveAddresses(updatedAddresses);
    form.reset();
    setIsAddingNew(false);
  };
  const handleSelectAddress = (address) => {
    const updatedAddresses = addresses.map(
      (addr) => addr.id === address.id ? { ...addr, lastUsed: (/* @__PURE__ */ new Date()).toISOString() } : addr
    );
    saveAddresses(updatedAddresses);
    onSelectAddress(address);
  };
  const handleDeleteAddress = (addressId) => {
    const updatedAddresses = addresses.filter((addr) => addr.id !== addressId);
    saveAddresses(updatedAddresses);
  };
  const filteredAddresses = addresses.filter(
    (addr) => addr.name.toLowerCase().includes(searchTerm.toLowerCase()) || addr.address.toLowerCase().includes(searchTerm.toLowerCase()) || addr.label.toLowerCase().includes(searchTerm.toLowerCase())
  );
  const recentAddresses = addresses.filter((addr) => addr.lastUsed).sort((a2, b) => new Date(b.lastUsed).getTime() - new Date(a2.lastUsed).getTime()).slice(0, 3);
  return /* @__PURE__ */ jsxRuntimeExports.jsxs(Dialog, { children: [
    /* @__PURE__ */ jsxRuntimeExports.jsx(DialogTrigger, { asChild: true, children: /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { variant: "outline", className: "w-full", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Book, { className: "h-4 w-4 mr-2" }),
      "Choose from Address Book"
    ] }) }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogContent, { className: "max-w-2xl", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(DialogHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogTitle, { children: [
        "Address Book - ",
        type === "sender" ? "Sender" : "Recipient"
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "relative", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            Input,
            {
              placeholder: "Search addresses...",
              value: searchTerm,
              onChange: (e) => setSearchTerm(e.target.value),
              className: "pr-10"
            }
          ),
          /* @__PURE__ */ jsxRuntimeExports.jsx(MapPin, { className: "absolute right-3 top-3 h-4 w-4 text-gray-400" })
        ] }),
        recentAddresses.length > 0 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx("h3", { className: "text-sm font-medium mb-2", children: "Recently Used" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "grid gap-2", children: recentAddresses.map((address) => /* @__PURE__ */ jsxRuntimeExports.jsx(Card, { className: "p-3 hover:shadow-md transition-shadow cursor-pointer", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between items-start", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex-1", onClick: () => handleSelectAddress(address), children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mb-1", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "secondary", className: "text-xs", children: address.label }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm font-medium", children: address.name })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-600 mb-1", children: address.address }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex gap-4 text-xs text-gray-500", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-1", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Mail, { className: "h-3 w-3" }),
                  address.email
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-1", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Phone, { className: "h-3 w-3" }),
                  address.phone
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              Button,
              {
                variant: "ghost",
                size: "sm",
                onClick: () => handleDeleteAddress(address.id),
                children: /* @__PURE__ */ jsxRuntimeExports.jsx(X, { className: "h-4 w-4" })
              }
            )
          ] }) }, address.id)) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between items-center mb-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("h3", { className: "text-sm font-medium", children: [
              "All Addresses (",
              filteredAddresses.length,
              ")"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(
              Button,
              {
                variant: "outline",
                size: "sm",
                onClick: () => setIsAddingNew(true),
                children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Plus, { className: "h-4 w-4 mr-1" }),
                  "Add New"
                ]
              }
            )
          ] }),
          isAddingNew && /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { className: "mb-4", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Add New Address" }) }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("form", { onSubmit: form.handleSubmit(handleAddAddress), className: "space-y-4", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "label", children: "Label *" }),
                  /* @__PURE__ */ jsxRuntimeExports.jsx(
                    Input,
                    {
                      id: "label",
                      ...form.register("label"),
                      placeholder: "Home, Office, etc."
                    }
                  ),
                  form.formState.errors.label && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: form.formState.errors.label.message })
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "name", children: "Name *" }),
                  /* @__PURE__ */ jsxRuntimeExports.jsx(
                    Input,
                    {
                      id: "name",
                      ...form.register("name"),
                      placeholder: "Full name"
                    }
                  ),
                  form.formState.errors.name && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: form.formState.errors.name.message })
                ] })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "email", children: "Email *" }),
                  /* @__PURE__ */ jsxRuntimeExports.jsx(
                    Input,
                    {
                      id: "email",
                      type: "email",
                      ...form.register("email"),
                      placeholder: "email@example.com"
                    }
                  ),
                  form.formState.errors.email && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: form.formState.errors.email.message })
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "phone", children: "Phone *" }),
                  /* @__PURE__ */ jsxRuntimeExports.jsx(
                    Input,
                    {
                      id: "phone",
                      ...form.register("phone"),
                      placeholder: "+1 (555) 123-4567"
                    }
                  ),
                  form.formState.errors.phone && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: form.formState.errors.phone.message })
                ] })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "address", children: "Address *" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx(
                  Input,
                  {
                    id: "address",
                    ...form.register("address"),
                    placeholder: "123 Main St, City, State, ZIP"
                  }
                ),
                form.formState.errors.address && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: form.formState.errors.address.message })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex gap-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { type: "submit", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Check, { className: "h-4 w-4 mr-2" }),
                  "Save Address"
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { type: "button", variant: "outline", onClick: () => setIsAddingNew(false), children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(X, { className: "h-4 w-4 mr-2" }),
                  "Cancel"
                ] })
              ] })
            ] }) })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "grid gap-2 max-h-64 overflow-y-auto", children: filteredAddresses.length === 0 ? /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-center text-gray-500 py-8", children: 'No addresses found. Click "Add New" to create your first address.' }) : filteredAddresses.map((address) => /* @__PURE__ */ jsxRuntimeExports.jsx(Card, { className: "p-3 hover:shadow-md transition-shadow cursor-pointer", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between items-start", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex-1", onClick: () => handleSelectAddress(address), children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mb-1", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "secondary", className: "text-xs", children: address.label }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm font-medium", children: address.name })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-600 mb-1", children: address.address }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex gap-4 text-xs text-gray-500", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-1", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Mail, { className: "h-3 w-3" }),
                  address.email
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-1", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Phone, { className: "h-3 w-3" }),
                  address.phone
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              Button,
              {
                variant: "ghost",
                size: "sm",
                onClick: () => handleDeleteAddress(address.id),
                children: /* @__PURE__ */ jsxRuntimeExports.jsx(X, { className: "h-4 w-4" })
              }
            )
          ] }) }, address.id)) })
        ] })
      ] })
    ] })
  ] });
};
const validateAddress = async (address) => {
  await new Promise((resolve) => setTimeout(resolve, 500));
  const isValid = address.length > 10 && address.includes(",");
  const suggestions = [];
  if (!isValid && address.length > 5) {
    const baseSuggestions = [
      `${address} Street, New York, NY 10001`,
      `${address} Avenue, Los Angeles, CA 90210`,
      `${address} Road, Chicago, IL 60601`
    ];
    suggestions.push(...baseSuggestions.map((addr, index) => ({
      formatted_address: addr,
      confidence: 0.9 - index * 0.1,
      coordinates: { x: Math.random() * 100, y: Math.random() * 100 },
      components: {
        street_name: address,
        city: ["New York", "Los Angeles", "Chicago"][index],
        state: ["NY", "CA", "IL"][index],
        postal_code: ["10001", "90210", "60601"][index],
        country: "USA"
      }
    })));
  }
  return {
    isValid,
    suggestions,
    confidence: isValid ? 1 : 0.5
  };
};
const AddressValidation = ({
  address,
  onAddressSelect,
  onValidationChange,
  placeholder = "Enter address...",
  error = false,
  id
}) => {
  const [inputValue, setInputValue] = reactExports.useState(address);
  const [isValidating, setIsValidating] = reactExports.useState(false);
  const [validationResult, setValidationResult] = reactExports.useState(null);
  const [showSuggestions, setShowSuggestions] = reactExports.useState(false);
  reactExports.useEffect(() => {
    setInputValue(address);
  }, [address]);
  reactExports.useEffect(() => {
    const validateAddressAsync = async () => {
      if (inputValue.length < 5) {
        setValidationResult(null);
        setShowSuggestions(false);
        onValidationChange(false);
        return;
      }
      setIsValidating(true);
      try {
        const result = await validateAddress(inputValue);
        setValidationResult(result);
        setShowSuggestions(!result.isValid && result.suggestions.length > 0);
        onValidationChange(result.isValid);
      } catch (error2) {
        console.error("Address validation error:", error2);
        setValidationResult(null);
        onValidationChange(false);
      } finally {
        setIsValidating(false);
      }
    };
    const timeoutId = setTimeout(validateAddressAsync, 300);
    return () => clearTimeout(timeoutId);
  }, [inputValue, onValidationChange]);
  const handleInputChange = (e) => {
    const value = e.target.value;
    setInputValue(value);
    onAddressSelect(value);
  };
  const handleSuggestionSelect = (suggestion) => {
    setInputValue(suggestion.formatted_address);
    onAddressSelect(suggestion.formatted_address, suggestion.coordinates);
    setShowSuggestions(false);
    onValidationChange(true);
  };
  const getValidationIcon = () => {
    if (isValidating) return /* @__PURE__ */ jsxRuntimeExports.jsx(Search, { className: "h-4 w-4 text-gray-400 animate-spin" });
    if (validationResult?.isValid) return /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-4 w-4 text-green-500" });
    if (validationResult && !validationResult.isValid) return /* @__PURE__ */ jsxRuntimeExports.jsx(AlertCircle, { className: "h-4 w-4 text-yellow-500" });
    return /* @__PURE__ */ jsxRuntimeExports.jsx(MapPin, { className: "h-4 w-4 text-gray-400" });
  };
  const getValidationStatus = () => {
    if (isValidating) return "Validating...";
    if (validationResult?.isValid) return "Valid address";
    if (validationResult && !validationResult.isValid) return "Address suggestions available";
    return "";
  };
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "relative", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        Input,
        {
          id,
          value: inputValue,
          onChange: handleInputChange,
          placeholder,
          error,
          className: "pr-10"
        }
      ),
      /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "absolute right-3 top-3", children: getValidationIcon() })
    ] }),
    validationResult && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 text-sm", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        Badge,
        {
          variant: validationResult.isValid ? "default" : "secondary",
          className: validationResult.isValid ? "bg-green-100 text-green-800" : "",
          children: validationResult.isValid ? "Verified" : "Unverified"
        }
      ),
      /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-gray-600", children: getValidationStatus() })
    ] }),
    isValidating && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Skeleton, { className: "h-4 w-3/4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(Skeleton, { className: "h-4 w-1/2" })
    ] }),
    showSuggestions && validationResult && /* @__PURE__ */ jsxRuntimeExports.jsx(Card, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { className: "p-4", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mb-3", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(Navigation, { className: "h-4 w-4 text-blue-500" }),
        /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "font-medium text-sm", children: "Did you mean:" })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "space-y-2", children: validationResult.suggestions.map((suggestion, index) => /* @__PURE__ */ jsxRuntimeExports.jsx(
        "div",
        {
          className: "p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",
          onClick: () => handleSuggestionSelect(suggestion),
          children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-start justify-between", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "font-medium text-sm", children: suggestion.formatted_address }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mt-1", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs(Badge, { variant: "outline", className: "text-xs", children: [
                  Math.round(suggestion.confidence * 100),
                  "% match"
                ] }),
                suggestion.coordinates && /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "text-xs text-gray-500", children: [
                  "Coordinates: (",
                  suggestion.coordinates.x.toFixed(1),
                  ", ",
                  suggestion.coordinates.y.toFixed(1),
                  ")"
                ] })
              ] })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(Button, { variant: "ghost", size: "sm", children: "Select" })
          ] })
        },
        index
      )) })
    ] }) }),
    validationResult && !validationResult.isValid && validationResult.suggestions.length === 0 && inputValue.length > 5 && /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { variant: "destructive", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertCircle, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: "Address could not be validated. Please check the address and try again." })
    ] })
  ] });
};
const SenderInfoStep = ({ form }) => {
  const {
    register,
    formState: { errors },
    setValue,
    watch
  } = form;
  const [addressValidation, setAddressValidation] = reactExports.useState({ isValid: false, isValidating: false });
  const currentAddress = watch("senderAddress");
  const handleAddressBookSelect = (address) => {
    setValue("senderName", address.name);
    setValue("senderEmail", address.email);
    setValue("senderPhone", address.phone);
    setValue("senderAddress", address.address);
  };
  const handleAddressValidation = (address, coordinates) => {
    setValue("senderAddress", address);
  };
  const handleValidationChange = (isValid) => {
    setAddressValidation((prev) => ({ ...prev, isValid }));
  };
  const handleAutoFillFromProfile = () => {
    setValue("senderName", form.getValues("senderName"));
    setValue("senderEmail", form.getValues("senderEmail"));
  };
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(User, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: "Please provide your contact information. This will be used as the sender details for the shipment." })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex gap-4", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        AddressBook,
        {
          type: "sender",
          onSelectAddress: handleAddressBookSelect,
          currentAddress: {
            name: watch("senderName"),
            email: watch("senderEmail"),
            phone: watch("senderPhone"),
            address: watch("senderAddress")
          }
        }
      ),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: handleAutoFillFromProfile,
          className: "flex-1",
          children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(RefreshCw, { className: "h-4 w-4 mr-2" }),
            "Auto-fill from Profile"
          ]
        }
      )
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid gap-6 md:grid-cols-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "senderName", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(User, { className: "h-4 w-4 inline mr-1" }),
          "Full Name *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Input,
          {
            id: "senderName",
            ...register("senderName"),
            placeholder: "Enter your full name",
            error: !!errors.senderName
          }
        ),
        errors.senderName && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.senderName.message })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "senderEmail", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Mail, { className: "h-4 w-4 inline mr-1" }),
          "Email Address *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Input,
          {
            id: "senderEmail",
            type: "email",
            ...register("senderEmail"),
            placeholder: "your.email@example.com",
            error: !!errors.senderEmail
          }
        ),
        errors.senderEmail && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.senderEmail.message })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "senderPhone", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Phone, { className: "h-4 w-4 inline mr-1" }),
          "Phone Number *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Input,
          {
            id: "senderPhone",
            ...register("senderPhone"),
            placeholder: "+1 (555) 123-4567",
            error: !!errors.senderPhone
          }
        ),
        errors.senderPhone && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.senderPhone.message })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2 md:col-span-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "senderAddress", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(MapPin, { className: "h-4 w-4 inline mr-1" }),
          "Address *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          AddressValidation,
          {
            id: "senderAddress",
            address: currentAddress || "",
            onAddressSelect: handleAddressValidation,
            onValidationChange: handleValidationChange,
            placeholder: "123 Main St, City, State, ZIP",
            error: !!errors.senderAddress
          }
        ),
        errors.senderAddress && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.senderAddress.message })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "p-4 bg-blue-50 rounded-lg", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm text-blue-800", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Note:" }),
      " This information will be pre-filled from your account profile. You can modify it if needed for this specific shipment."
    ] }) })
  ] });
};
const RecipientInfoStep = ({ form }) => {
  const {
    register,
    formState: { errors },
    setValue,
    watch
  } = form;
  const [addressValidation, setAddressValidation] = reactExports.useState({ isValid: false, isValidating: false });
  const currentAddress = watch("recipientAddress");
  const handleAddressBookSelect = (address) => {
    setValue("recipientName", address.name);
    setValue("recipientEmail", address.email);
    setValue("recipientPhone", address.phone);
    setValue("recipientAddress", address.address);
  };
  const handleAddressValidation = (address, coordinates) => {
    setValue("recipientAddress", address);
    if (coordinates) {
      setValue("destinationX", coordinates.x);
      setValue("destinationY", coordinates.y);
    }
  };
  const handleValidationChange = (isValid) => {
    setAddressValidation((prev) => ({ ...prev, isValid }));
  };
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Navigation, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: "Provide the recipient's contact information and delivery coordinates." })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "w-full", children: /* @__PURE__ */ jsxRuntimeExports.jsx(
      AddressBook,
      {
        type: "recipient",
        onSelectAddress: handleAddressBookSelect,
        currentAddress: {
          name: watch("recipientName"),
          email: watch("recipientEmail"),
          phone: watch("recipientPhone"),
          address: watch("recipientAddress")
        }
      }
    ) }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid gap-6 md:grid-cols-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "recipientName", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(User, { className: "h-4 w-4 inline mr-1" }),
          "Recipient Name *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Input,
          {
            id: "recipientName",
            ...register("recipientName"),
            placeholder: "Enter recipient's full name",
            error: !!errors.recipientName
          }
        ),
        errors.recipientName && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.recipientName.message })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "recipientEmail", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Mail, { className: "h-4 w-4 inline mr-1" }),
          "Email Address *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Input,
          {
            id: "recipientEmail",
            type: "email",
            ...register("recipientEmail"),
            placeholder: "recipient@example.com",
            error: !!errors.recipientEmail
          }
        ),
        errors.recipientEmail && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.recipientEmail.message })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "recipientPhone", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Phone, { className: "h-4 w-4 inline mr-1" }),
          "Phone Number *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Input,
          {
            id: "recipientPhone",
            ...register("recipientPhone"),
            placeholder: "+1 (555) 987-6543",
            error: !!errors.recipientPhone
          }
        ),
        errors.recipientPhone && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.recipientPhone.message })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2 md:col-span-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "recipientAddress", className: "text-sm font-medium", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(MapPin, { className: "h-4 w-4 inline mr-1" }),
          "Delivery Address *"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          AddressValidation,
          {
            id: "recipientAddress",
            address: currentAddress || "",
            onAddressSelect: handleAddressValidation,
            onValidationChange: handleValidationChange,
            placeholder: "456 Delivery Ave, City, State, ZIP",
            error: !!errors.recipientAddress
          }
        ),
        errors.recipientAddress && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.recipientAddress.message })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "border-t pt-6", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs("h3", { className: "text-lg font-medium mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(Navigation, { className: "h-5 w-5" }),
        "Delivery Coordinates"
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid gap-4 md:grid-cols-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "destinationX", className: "text-sm font-medium", children: "X Coordinate *" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            Input,
            {
              id: "destinationX",
              type: "number",
              ...register("destinationX", { valueAsNumber: true }),
              placeholder: "0",
              min: "-1000",
              max: "1000",
              step: "0.1",
              error: !!errors.destinationX
            }
          ),
          errors.destinationX && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.destinationX.message })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "destinationY", className: "text-sm font-medium", children: "Y Coordinate *" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            Input,
            {
              id: "destinationY",
              type: "number",
              ...register("destinationY", { valueAsNumber: true }),
              placeholder: "0",
              min: "-1000",
              max: "1000",
              step: "0.1",
              error: !!errors.destinationY
            }
          ),
          errors.destinationY && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.destinationY.message })
        ] })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "p-4 bg-yellow-50 rounded-lg mt-4", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm text-yellow-800", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Coordinate System:" }),
        " The delivery coordinates represent the exact location in our warehouse system. Valid range is -1000 to 1000 for both X and Y coordinates."
      ] }) })
    ] })
  ] });
};
const PACKAGE_SIZES = [
  {
    id: "small",
    name: "Small Package",
    description: "Books, electronics, small items",
    dimensions: { length: 20, width: 15, height: 10 },
    maxWeight: 5,
    icon: "📦",
    color: "bg-green-100 text-green-800",
    examples: ["Books", "Jewelry", "Small electronics", "Documents"]
  },
  {
    id: "medium",
    name: "Medium Package",
    description: "Clothing, shoes, medium items",
    dimensions: { length: 35, width: 25, height: 15 },
    maxWeight: 15,
    icon: "📋",
    color: "bg-blue-100 text-blue-800",
    examples: ["Clothing", "Shoes", "Kitchen items", "Sports equipment"]
  },
  {
    id: "large",
    name: "Large Package",
    description: "Home goods, large items",
    dimensions: { length: 50, width: 40, height: 30 },
    maxWeight: 30,
    icon: "📦",
    color: "bg-purple-100 text-purple-800",
    examples: ["Home appliances", "Furniture parts", "Large electronics", "Sporting goods"]
  },
  {
    id: "extra-large",
    name: "Extra Large Package",
    description: "Bulky items, furniture",
    dimensions: { length: 80, width: 60, height: 40 },
    maxWeight: 50,
    icon: "📦",
    color: "bg-orange-100 text-orange-800",
    examples: ["Furniture", "Large appliances", "Bicycles", "Artwork"]
  }
];
const PACKAGING_TIPS = [
  {
    title: "Fragile Items",
    description: "Use bubble wrap and padding",
    icon: "⚠️"
  },
  {
    title: "Electronics",
    description: "Anti-static protection recommended",
    icon: "🔌"
  },
  {
    title: "Liquids",
    description: "Secure containers, leak-proof packaging",
    icon: "💧"
  },
  {
    title: "Documents",
    description: "Waterproof envelope or bag",
    icon: "📄"
  }
];
const PackageSizeGuide = ({
  onSizeSelect,
  currentDimensions
}) => {
  const [selectedSize, setSelectedSize] = reactExports.useState(null);
  const [showCustom, setShowCustom] = reactExports.useState(false);
  const calculateVolume = (dimensions) => {
    return dimensions.length * dimensions.width * dimensions.height / 1e3;
  };
  const getSizeRecommendation = (volume) => {
    if (volume <= 3) return "Small";
    if (volume <= 13) return "Medium";
    if (volume <= 60) return "Large";
    return "Extra Large";
  };
  const currentVolume = currentDimensions ? calculateVolume(currentDimensions) : 0;
  const handleSizeSelect = (size) => {
    setSelectedSize(size.id);
    onSizeSelect(size.dimensions, size.id);
  };
  const PackageSizeVisualizer = ({ dimensions, name }) => {
    const scale = 0.5;
    const scaledDimensions = {
      width: dimensions.length * scale,
      height: dimensions.height * scale,
      depth: dimensions.width * scale
    };
    return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex flex-col items-center space-y-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "relative flex items-end justify-center", children: /* @__PURE__ */ jsxRuntimeExports.jsxs(
        "div",
        {
          className: "relative border-2 border-gray-400 bg-gray-100",
          style: {
            width: `${scaledDimensions.width}px`,
            height: `${scaledDimensions.height}px`,
            transform: "perspective(100px) rotateX(15deg) rotateY(15deg)"
          },
          children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "absolute inset-0 bg-blue-200 border border-blue-300 opacity-80" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              "div",
              {
                className: "absolute bg-blue-100 border border-blue-300 opacity-90",
                style: {
                  width: `${scaledDimensions.width}px`,
                  height: `${scaledDimensions.depth}px`,
                  transform: `rotateX(90deg) translateZ(${scaledDimensions.height}px)`,
                  transformOrigin: "top"
                }
              }
            ),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              "div",
              {
                className: "absolute bg-blue-300 border border-blue-400 opacity-70",
                style: {
                  width: `${scaledDimensions.depth}px`,
                  height: `${scaledDimensions.height}px`,
                  transform: `rotateY(90deg) translateZ(${scaledDimensions.width}px)`,
                  transformOrigin: "right"
                }
              }
            )
          ]
        }
      ) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-xs text-gray-600 space-y-1", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { children: [
            "L: ",
            dimensions.length,
            "cm"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { children: [
            "W: ",
            dimensions.width,
            "cm"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { children: [
            "H: ",
            dimensions.height,
            "cm"
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-center text-gray-500", children: [
          "Volume: ",
          calculateVolume(dimensions).toFixed(1),
          "L"
        ] })
      ] })
    ] });
  };
  return /* @__PURE__ */ jsxRuntimeExports.jsxs(Dialog, { children: [
    /* @__PURE__ */ jsxRuntimeExports.jsx(DialogTrigger, { asChild: true, children: /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { variant: "outline", className: "w-full", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-4 w-4 mr-2" }),
      "Package Size Guide"
    ] }) }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogContent, { className: "max-w-4xl", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(DialogHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(Ruler, { className: "h-5 w-5" }),
        "Package Size Guide"
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
        currentDimensions && /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Your Package Analysis" }) }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { children: /* @__PURE__ */ jsxRuntimeExports.jsx(
              PackageSizeVisualizer,
              {
                dimensions: currentDimensions,
                name: "Your Package"
              }
            ) }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs(Badge, { className: "mb-2", children: [
                  getSizeRecommendation(currentVolume),
                  " Package"
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm text-gray-600", children: [
                  "Volume: ",
                  currentVolume.toFixed(1),
                  " liters"
                ] })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium", children: "Packaging Recommendations:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("ul", { className: "text-sm text-gray-600 space-y-1", children: [
                  currentVolume <= 3 && /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx(Check, { className: "h-3 w-3 text-green-500" }),
                    "Use padded envelope or small box"
                  ] }),
                  currentVolume > 3 && currentVolume <= 13 && /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx(Check, { className: "h-3 w-3 text-green-500" }),
                    "Standard shipping box with padding"
                  ] }),
                  currentVolume > 13 && /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx(Check, { className: "h-3 w-3 text-green-500" }),
                    "Sturdy box with extra cushioning"
                  ] })
                ] })
              ] })
            ] })
          ] }) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx("h3", { className: "text-lg font-semibold mb-4", children: "Standard Package Sizes" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: PACKAGE_SIZES.map((size) => /* @__PURE__ */ jsxRuntimeExports.jsxs(
            Card,
            {
              className: `cursor-pointer transition-all hover:shadow-md ${selectedSize === size.id ? "ring-2 ring-blue-500" : ""}`,
              onClick: () => handleSizeSelect(size),
              children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { className: "pb-2", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-2xl", children: size.icon }),
                    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-base", children: size.name }),
                      /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { className: "text-sm", children: size.description })
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs(Badge, { className: size.color, children: [
                    "Max ",
                    size.maxWeight,
                    "kg"
                  ] })
                ] }) }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between items-center mb-3", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx(
                      PackageSizeVisualizer,
                      {
                        dimensions: size.dimensions,
                        name: size.name
                      }
                    ),
                    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-right", children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-xs text-gray-600", children: [
                        size.dimensions.length,
                        " × ",
                        size.dimensions.width,
                        " × ",
                        size.dimensions.height,
                        " cm"
                      ] }),
                      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-xs text-gray-500", children: [
                        calculateVolume(size.dimensions).toFixed(1),
                        "L volume"
                      ] })
                    ] })
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-xs text-gray-600", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "font-medium mb-1", children: "Suitable for:" }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "flex flex-wrap gap-1", children: size.examples.map((example, index) => /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "outline", className: "text-xs", children: example }, index)) })
                  ] })
                ] })
              ]
            },
            size.id
          )) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx("h3", { className: "text-lg font-semibold mb-4", children: "Packaging Tips" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: PACKAGING_TIPS.map((tip, index) => /* @__PURE__ */ jsxRuntimeExports.jsx(Alert, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-start gap-3", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-lg", children: tip.icon }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium", children: tip.title }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: tip.description })
            ] })
          ] }) }, index)) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { variant: "destructive", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(AlertTriangle, { className: "h-4 w-4" }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs(AlertDescription, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Shipping Restrictions:" }),
            " Maximum dimensions: 100cm × 80cm × 60cm. Maximum weight: 50kg. Prohibited items include hazardous materials, perishable goods, and fragile items without proper packaging."
          ] })
        ] })
      ] })
    ] })
  ] });
};
var PAGE_KEYS = ["PageUp", "PageDown"];
var ARROW_KEYS = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"];
var BACK_KEYS = {
  "from-left": ["Home", "PageDown", "ArrowDown", "ArrowLeft"],
  "from-right": ["Home", "PageDown", "ArrowDown", "ArrowRight"],
  "from-bottom": ["Home", "PageDown", "ArrowDown", "ArrowLeft"],
  "from-top": ["Home", "PageDown", "ArrowUp", "ArrowLeft"]
};
var SLIDER_NAME = "Slider";
var [Collection, useCollection, createCollectionScope] = createCollection(SLIDER_NAME);
var [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [
  createCollectionScope
]);
var [SliderProvider, useSliderContext] = createSliderContext(SLIDER_NAME);
var Slider$1 = reactExports.forwardRef(
  (props, forwardedRef) => {
    const {
      name,
      min = 0,
      max = 100,
      step = 1,
      orientation = "horizontal",
      disabled = false,
      minStepsBetweenThumbs = 0,
      defaultValue = [min],
      value,
      onValueChange = () => {
      },
      onValueCommit = () => {
      },
      inverted = false,
      form,
      ...sliderProps
    } = props;
    const thumbRefs = reactExports.useRef(/* @__PURE__ */ new Set());
    const valueIndexToChangeRef = reactExports.useRef(0);
    const isHorizontal = orientation === "horizontal";
    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;
    const [values = [], setValues] = useControllableState({
      prop: value,
      defaultProp: defaultValue,
      onChange: (value2) => {
        const thumbs = [...thumbRefs.current];
        thumbs[valueIndexToChangeRef.current]?.focus();
        onValueChange(value2);
      }
    });
    const valuesBeforeSlideStartRef = reactExports.useRef(values);
    function handleSlideStart(value2) {
      const closestIndex = getClosestValueIndex(values, value2);
      updateValues(value2, closestIndex);
    }
    function handleSlideMove(value2) {
      updateValues(value2, valueIndexToChangeRef.current);
    }
    function handleSlideEnd() {
      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];
      const nextValue = values[valueIndexToChangeRef.current];
      const hasChanged = nextValue !== prevValue;
      if (hasChanged) onValueCommit(values);
    }
    function updateValues(value2, atIndex, { commit } = { commit: false }) {
      const decimalCount = getDecimalCount(step);
      const snapToStep = roundValue(Math.round((value2 - min) / step) * step + min, decimalCount);
      const nextValue = clamp(snapToStep, [min, max]);
      setValues((prevValues = []) => {
        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);
        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {
          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);
          const hasChanged = String(nextValues) !== String(prevValues);
          if (hasChanged && commit) onValueCommit(nextValues);
          return hasChanged ? nextValues : prevValues;
        } else {
          return prevValues;
        }
      });
    }
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      SliderProvider,
      {
        scope: props.__scopeSlider,
        name,
        disabled,
        min,
        max,
        valueIndexToChangeRef,
        thumbs: thumbRefs.current,
        values,
        orientation,
        form,
        children: /* @__PURE__ */ jsxRuntimeExports.jsx(Collection.Provider, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsxRuntimeExports.jsx(Collection.Slot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsxRuntimeExports.jsx(
          SliderOrientation,
          {
            "aria-disabled": disabled,
            "data-disabled": disabled ? "" : void 0,
            ...sliderProps,
            ref: forwardedRef,
            onPointerDown: composeEventHandlers(sliderProps.onPointerDown, () => {
              if (!disabled) valuesBeforeSlideStartRef.current = values;
            }),
            min,
            max,
            inverted,
            onSlideStart: disabled ? void 0 : handleSlideStart,
            onSlideMove: disabled ? void 0 : handleSlideMove,
            onSlideEnd: disabled ? void 0 : handleSlideEnd,
            onHomeKeyDown: () => !disabled && updateValues(min, 0, { commit: true }),
            onEndKeyDown: () => !disabled && updateValues(max, values.length - 1, { commit: true }),
            onStepKeyDown: ({ event, direction: stepDirection }) => {
              if (!disabled) {
                const isPageKey = PAGE_KEYS.includes(event.key);
                const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.includes(event.key);
                const multiplier = isSkipKey ? 10 : 1;
                const atIndex = valueIndexToChangeRef.current;
                const value2 = values[atIndex];
                const stepInDirection = step * multiplier * stepDirection;
                updateValues(value2 + stepInDirection, atIndex, { commit: true });
              }
            }
          }
        ) }) })
      }
    );
  }
);
Slider$1.displayName = SLIDER_NAME;
var [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext(SLIDER_NAME, {
  startEdge: "left",
  endEdge: "right",
  size: "width",
  direction: 1
});
var SliderHorizontal = reactExports.forwardRef(
  (props, forwardedRef) => {
    const {
      min,
      max,
      dir,
      inverted,
      onSlideStart,
      onSlideMove,
      onSlideEnd,
      onStepKeyDown,
      ...sliderProps
    } = props;
    const [slider, setSlider] = reactExports.useState(null);
    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));
    const rectRef = reactExports.useRef(void 0);
    const direction = useDirection(dir);
    const isDirectionLTR = direction === "ltr";
    const isSlidingFromLeft = isDirectionLTR && !inverted || !isDirectionLTR && inverted;
    function getValueFromPointer(pointerPosition) {
      const rect = rectRef.current || slider.getBoundingClientRect();
      const input = [0, rect.width];
      const output = isSlidingFromLeft ? [min, max] : [max, min];
      const value = linearScale(input, output);
      rectRef.current = rect;
      return value(pointerPosition - rect.left);
    }
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      SliderOrientationProvider,
      {
        scope: props.__scopeSlider,
        startEdge: isSlidingFromLeft ? "left" : "right",
        endEdge: isSlidingFromLeft ? "right" : "left",
        direction: isSlidingFromLeft ? 1 : -1,
        size: "width",
        children: /* @__PURE__ */ jsxRuntimeExports.jsx(
          SliderImpl,
          {
            dir: direction,
            "data-orientation": "horizontal",
            ...sliderProps,
            ref: composedRefs,
            style: {
              ...sliderProps.style,
              ["--radix-slider-thumb-transform"]: "translateX(-50%)"
            },
            onSlideStart: (event) => {
              const value = getValueFromPointer(event.clientX);
              onSlideStart?.(value);
            },
            onSlideMove: (event) => {
              const value = getValueFromPointer(event.clientX);
              onSlideMove?.(value);
            },
            onSlideEnd: () => {
              rectRef.current = void 0;
              onSlideEnd?.();
            },
            onStepKeyDown: (event) => {
              const slideDirection = isSlidingFromLeft ? "from-left" : "from-right";
              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);
              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });
            }
          }
        )
      }
    );
  }
);
var SliderVertical = reactExports.forwardRef(
  (props, forwardedRef) => {
    const {
      min,
      max,
      inverted,
      onSlideStart,
      onSlideMove,
      onSlideEnd,
      onStepKeyDown,
      ...sliderProps
    } = props;
    const sliderRef = reactExports.useRef(null);
    const ref = useComposedRefs(forwardedRef, sliderRef);
    const rectRef = reactExports.useRef(void 0);
    const isSlidingFromBottom = !inverted;
    function getValueFromPointer(pointerPosition) {
      const rect = rectRef.current || sliderRef.current.getBoundingClientRect();
      const input = [0, rect.height];
      const output = isSlidingFromBottom ? [max, min] : [min, max];
      const value = linearScale(input, output);
      rectRef.current = rect;
      return value(pointerPosition - rect.top);
    }
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      SliderOrientationProvider,
      {
        scope: props.__scopeSlider,
        startEdge: isSlidingFromBottom ? "bottom" : "top",
        endEdge: isSlidingFromBottom ? "top" : "bottom",
        size: "height",
        direction: isSlidingFromBottom ? 1 : -1,
        children: /* @__PURE__ */ jsxRuntimeExports.jsx(
          SliderImpl,
          {
            "data-orientation": "vertical",
            ...sliderProps,
            ref,
            style: {
              ...sliderProps.style,
              ["--radix-slider-thumb-transform"]: "translateY(50%)"
            },
            onSlideStart: (event) => {
              const value = getValueFromPointer(event.clientY);
              onSlideStart?.(value);
            },
            onSlideMove: (event) => {
              const value = getValueFromPointer(event.clientY);
              onSlideMove?.(value);
            },
            onSlideEnd: () => {
              rectRef.current = void 0;
              onSlideEnd?.();
            },
            onStepKeyDown: (event) => {
              const slideDirection = isSlidingFromBottom ? "from-bottom" : "from-top";
              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);
              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });
            }
          }
        )
      }
    );
  }
);
var SliderImpl = reactExports.forwardRef(
  (props, forwardedRef) => {
    const {
      __scopeSlider,
      onSlideStart,
      onSlideMove,
      onSlideEnd,
      onHomeKeyDown,
      onEndKeyDown,
      onStepKeyDown,
      ...sliderProps
    } = props;
    const context = useSliderContext(SLIDER_NAME, __scopeSlider);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.span,
      {
        ...sliderProps,
        ref: forwardedRef,
        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {
          if (event.key === "Home") {
            onHomeKeyDown(event);
            event.preventDefault();
          } else if (event.key === "End") {
            onEndKeyDown(event);
            event.preventDefault();
          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {
            onStepKeyDown(event);
            event.preventDefault();
          }
        }),
        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {
          const target = event.target;
          target.setPointerCapture(event.pointerId);
          event.preventDefault();
          if (context.thumbs.has(target)) {
            target.focus();
          } else {
            onSlideStart(event);
          }
        }),
        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {
          const target = event.target;
          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);
        }),
        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {
          const target = event.target;
          if (target.hasPointerCapture(event.pointerId)) {
            target.releasePointerCapture(event.pointerId);
            onSlideEnd(event);
          }
        })
      }
    );
  }
);
var TRACK_NAME = "SliderTrack";
var SliderTrack = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopeSlider, ...trackProps } = props;
    const context = useSliderContext(TRACK_NAME, __scopeSlider);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.span,
      {
        "data-disabled": context.disabled ? "" : void 0,
        "data-orientation": context.orientation,
        ...trackProps,
        ref: forwardedRef
      }
    );
  }
);
SliderTrack.displayName = TRACK_NAME;
var RANGE_NAME = "SliderRange";
var SliderRange = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopeSlider, ...rangeProps } = props;
    const context = useSliderContext(RANGE_NAME, __scopeSlider);
    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);
    const ref = reactExports.useRef(null);
    const composedRefs = useComposedRefs(forwardedRef, ref);
    const valuesCount = context.values.length;
    const percentages = context.values.map(
      (value) => convertValueToPercentage(value, context.min, context.max)
    );
    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;
    const offsetEnd = 100 - Math.max(...percentages);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.span,
      {
        "data-orientation": context.orientation,
        "data-disabled": context.disabled ? "" : void 0,
        ...rangeProps,
        ref: composedRefs,
        style: {
          ...props.style,
          [orientation.startEdge]: offsetStart + "%",
          [orientation.endEdge]: offsetEnd + "%"
        }
      }
    );
  }
);
SliderRange.displayName = RANGE_NAME;
var THUMB_NAME = "SliderThumb";
var SliderThumb = reactExports.forwardRef(
  (props, forwardedRef) => {
    const getItems = useCollection(props.__scopeSlider);
    const [thumb, setThumb] = reactExports.useState(null);
    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));
    const index = reactExports.useMemo(
      () => thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1,
      [getItems, thumb]
    );
    return /* @__PURE__ */ jsxRuntimeExports.jsx(SliderThumbImpl, { ...props, ref: composedRefs, index });
  }
);
var SliderThumbImpl = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopeSlider, index, name, ...thumbProps } = props;
    const context = useSliderContext(THUMB_NAME, __scopeSlider);
    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);
    const [thumb, setThumb] = reactExports.useState(null);
    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));
    const isFormControl = thumb ? context.form || !!thumb.closest("form") : true;
    const size = useSize(thumb);
    const value = context.values[index];
    const percent = value === void 0 ? 0 : convertValueToPercentage(value, context.min, context.max);
    const label = getLabel(index, context.values.length);
    const orientationSize = size?.[orientation.size];
    const thumbInBoundsOffset = orientationSize ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction) : 0;
    reactExports.useEffect(() => {
      if (thumb) {
        context.thumbs.add(thumb);
        return () => {
          context.thumbs.delete(thumb);
        };
      }
    }, [thumb, context.thumbs]);
    return /* @__PURE__ */ jsxRuntimeExports.jsxs(
      "span",
      {
        style: {
          transform: "var(--radix-slider-thumb-transform)",
          position: "absolute",
          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`
        },
        children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Collection.ItemSlot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsxRuntimeExports.jsx(
            Primitive.span,
            {
              role: "slider",
              "aria-label": props["aria-label"] || label,
              "aria-valuemin": context.min,
              "aria-valuenow": value,
              "aria-valuemax": context.max,
              "aria-orientation": context.orientation,
              "data-orientation": context.orientation,
              "data-disabled": context.disabled ? "" : void 0,
              tabIndex: context.disabled ? void 0 : 0,
              ...thumbProps,
              ref: composedRefs,
              style: value === void 0 ? { display: "none" } : props.style,
              onFocus: composeEventHandlers(props.onFocus, () => {
                context.valueIndexToChangeRef.current = index;
              })
            }
          ) }),
          isFormControl && /* @__PURE__ */ jsxRuntimeExports.jsx(
            SliderBubbleInput,
            {
              name: name ?? (context.name ? context.name + (context.values.length > 1 ? "[]" : "") : void 0),
              form: context.form,
              value
            },
            index
          )
        ]
      }
    );
  }
);
SliderThumb.displayName = THUMB_NAME;
var BUBBLE_INPUT_NAME = "RadioBubbleInput";
var SliderBubbleInput = reactExports.forwardRef(
  ({ __scopeSlider, value, ...props }, forwardedRef) => {
    const ref = reactExports.useRef(null);
    const composedRefs = useComposedRefs(ref, forwardedRef);
    const prevValue = usePrevious(value);
    reactExports.useEffect(() => {
      const input = ref.current;
      if (!input) return;
      const inputProto = window.HTMLInputElement.prototype;
      const descriptor = Object.getOwnPropertyDescriptor(inputProto, "value");
      const setValue = descriptor.set;
      if (prevValue !== value && setValue) {
        const event = new Event("input", { bubbles: true });
        setValue.call(input, value);
        input.dispatchEvent(event);
      }
    }, [prevValue, value]);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.input,
      {
        style: { display: "none" },
        ...props,
        ref: composedRefs,
        defaultValue: value
      }
    );
  }
);
SliderBubbleInput.displayName = BUBBLE_INPUT_NAME;
function getNextSortedValues(prevValues = [], nextValue, atIndex) {
  const nextValues = [...prevValues];
  nextValues[atIndex] = nextValue;
  return nextValues.sort((a2, b) => a2 - b);
}
function convertValueToPercentage(value, min, max) {
  const maxSteps = max - min;
  const percentPerStep = 100 / maxSteps;
  const percentage = percentPerStep * (value - min);
  return clamp(percentage, [0, 100]);
}
function getLabel(index, totalValues) {
  if (totalValues > 2) {
    return `Value ${index + 1} of ${totalValues}`;
  } else if (totalValues === 2) {
    return ["Minimum", "Maximum"][index];
  } else {
    return void 0;
  }
}
function getClosestValueIndex(values, nextValue) {
  if (values.length === 1) return 0;
  const distances = values.map((value) => Math.abs(value - nextValue));
  const closestDistance = Math.min(...distances);
  return distances.indexOf(closestDistance);
}
function getThumbInBoundsOffset(width, left, direction) {
  const halfWidth = width / 2;
  const halfPercent = 50;
  const offset = linearScale([0, halfPercent], [0, halfWidth]);
  return (halfWidth - offset(left) * direction) * direction;
}
function getStepsBetweenValues(values) {
  return values.slice(0, -1).map((value, index) => values[index + 1] - value);
}
function hasMinStepsBetweenValues(values, minStepsBetweenValues) {
  if (minStepsBetweenValues > 0) {
    const stepsBetweenValues = getStepsBetweenValues(values);
    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);
    return actualMinStepsBetweenValues >= minStepsBetweenValues;
  }
  return true;
}
function linearScale(input, output) {
  return (value) => {
    if (input[0] === input[1] || output[0] === output[1]) return output[0];
    const ratio = (output[1] - output[0]) / (input[1] - input[0]);
    return output[0] + ratio * (value - input[0]);
  };
}
function getDecimalCount(value) {
  return (String(value).split(".")[1] || "").length;
}
function roundValue(value, decimalCount) {
  const rounder = Math.pow(10, decimalCount);
  return Math.round(value * rounder) / rounder;
}
var Root = Slider$1;
var Track = SliderTrack;
var Range = SliderRange;
var Thumb = SliderThumb;
const Slider = reactExports.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsxRuntimeExports.jsxs(
  Root,
  {
    ref,
    className: cn(
      "relative flex w-full touch-none select-none items-center",
      className
    ),
    ...props,
    children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Track, { className: "relative h-2 w-full grow overflow-hidden rounded-full bg-secondary", children: /* @__PURE__ */ jsxRuntimeExports.jsx(Range, { className: "absolute h-full bg-primary" }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(Thumb, { className: "block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" })
    ]
  }
));
Slider.displayName = Root.displayName;
const ITEM_CATEGORIES = [
  {
    id: "electronics",
    name: "Electronics",
    items: [
      { name: "Smartphone", weight: 0.2, density: 0.8 },
      { name: "Laptop", weight: 2.5, density: 0.6 },
      { name: "Tablet", weight: 0.5, density: 0.7 },
      { name: "Headphones", weight: 0.3, density: 0.3 },
      { name: "Smartwatch", weight: 0.1, density: 0.9 },
      { name: "Camera", weight: 1.2, density: 0.8 }
    ]
  },
  {
    id: "clothing",
    name: "Clothing & Accessories",
    items: [
      { name: "T-shirt", weight: 0.15, density: 0.1 },
      { name: "Jeans", weight: 0.8, density: 0.2 },
      { name: "Jacket", weight: 1.2, density: 0.15 },
      { name: "Shoes", weight: 0.9, density: 0.4 },
      { name: "Belt", weight: 0.3, density: 0.5 },
      { name: "Handbag", weight: 0.8, density: 0.2 }
    ]
  },
  {
    id: "books",
    name: "Books & Documents",
    items: [
      { name: "Paperback Book", weight: 0.3, density: 0.7 },
      { name: "Hardcover Book", weight: 0.8, density: 0.8 },
      { name: "Magazine", weight: 0.1, density: 0.3 },
      { name: "Document Stack", weight: 0.5, density: 0.6 }
    ]
  },
  {
    id: "household",
    name: "Household Items",
    items: [
      { name: "Kitchen Utensils", weight: 0.5, density: 0.3 },
      { name: "Decorative Item", weight: 1, density: 0.4 },
      { name: "Small Appliance", weight: 3, density: 0.7 },
      { name: "Pillow", weight: 0.8, density: 0.1 },
      { name: "Blanket", weight: 1.5, density: 0.15 }
    ]
  }
];
const MATERIAL_DENSITIES = {
  plastic: 0.9,
  metal: 7.8,
  wood: 0.6,
  glass: 2.5,
  fabric: 0.2,
  paper: 0.8,
  electronic: 1.5
};
const WeightEstimator = ({
  onWeightSelect,
  currentWeight,
  packageType,
  dimensions
}) => {
  const [selectedCategory, setSelectedCategory] = reactExports.useState("");
  const [selectedItems, setSelectedItems] = reactExports.useState([]);
  const [customWeight, setCustomWeight] = reactExports.useState(currentWeight || 1);
  const [estimationMethod, setEstimationMethod] = reactExports.useState("items");
  const [selectedMaterial, setSelectedMaterial] = reactExports.useState("");
  const [densityFactor, setDensityFactor] = reactExports.useState([50]);
  const calculateVolumetricWeight = () => {
    if (!dimensions) return 0;
    const volume = dimensions.length * dimensions.width * dimensions.height / 1e3;
    return volume * (densityFactor[0] / 100);
  };
  const calculateItemsWeight = () => {
    return selectedItems.reduce((total, selected) => {
      return total + selected.item.weight * selected.quantity;
    }, 0);
  };
  const calculateDensityWeight = () => {
    if (!dimensions || !selectedMaterial) return 0;
    const volume = dimensions.length * dimensions.width * dimensions.height / 1e6;
    const density = MATERIAL_DENSITIES[selectedMaterial];
    return volume * density * 1e3;
  };
  const getWeightEstimate = () => {
    switch (estimationMethod) {
      case "items":
        return calculateItemsWeight();
      case "density":
        return calculateDensityWeight();
      case "custom":
        return customWeight;
      default:
        return currentWeight || 1;
    }
  };
  const handleAddItem = (item) => {
    const existingIndex = selectedItems.findIndex((selected) => selected.item.name === item.name);
    if (existingIndex >= 0) {
      const updated = [...selectedItems];
      updated[existingIndex].quantity += 1;
      setSelectedItems(updated);
    } else {
      setSelectedItems([...selectedItems, { item, quantity: 1 }]);
    }
  };
  const handleRemoveItem = (itemName) => {
    setSelectedItems(selectedItems.filter((selected) => selected.item.name !== itemName));
  };
  const handleQuantityChange = (itemName, quantity) => {
    const updated = selectedItems.map(
      (selected) => selected.item.name === itemName ? { ...selected, quantity: Math.max(0, quantity) } : selected
    ).filter((selected) => selected.quantity > 0);
    setSelectedItems(updated);
  };
  const handleWeightConfirm = () => {
    const estimatedWeight2 = getWeightEstimate();
    onWeightSelect(estimatedWeight2);
  };
  const volumetricWeight = calculateVolumetricWeight();
  const estimatedWeight = getWeightEstimate();
  return /* @__PURE__ */ jsxRuntimeExports.jsxs(Dialog, { children: [
    /* @__PURE__ */ jsxRuntimeExports.jsx(DialogTrigger, { asChild: true, children: /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { variant: "outline", className: "w-full", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Scale, { className: "h-4 w-4 mr-2" }),
      "Weight Estimator"
    ] }) }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogContent, { className: "max-w-4xl", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(DialogHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(Calculator, { className: "h-5 w-5" }),
        "Smart Weight Estimator"
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Weight Estimation" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(CardDescription, { children: [
              "Current weight: ",
              currentWeight ? `${currentWeight}kg` : "Not set"
            ] })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex gap-4 items-center", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-3xl font-bold text-blue-600", children: [
                estimatedWeight.toFixed(2),
                " kg"
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Estimated weight" })
            ] }),
            dimensions && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-lg font-semibold text-gray-700", children: [
                volumetricWeight.toFixed(2),
                " kg"
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Volumetric weight" })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(Button, { onClick: handleWeightConfirm, children: "Use This Weight" })
          ] }) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex gap-2 mb-4", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            Button,
            {
              variant: estimationMethod === "items" ? "default" : "outline",
              onClick: () => setEstimationMethod("items"),
              children: "By Items"
            }
          ),
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            Button,
            {
              variant: estimationMethod === "density" ? "default" : "outline",
              onClick: () => setEstimationMethod("density"),
              children: "By Material"
            }
          ),
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            Button,
            {
              variant: estimationMethod === "custom" ? "default" : "outline",
              onClick: () => setEstimationMethod("custom"),
              children: "Manual Input"
            }
          )
        ] }),
        estimationMethod === "items" && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-4", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "category", children: "Select Category" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Select, { value: selectedCategory, onValueChange: setSelectedCategory, children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectTrigger, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(SelectValue, { placeholder: "Choose item category" }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectContent, { children: ITEM_CATEGORIES.map((category) => /* @__PURE__ */ jsxRuntimeExports.jsx(SelectItem, { value: category.id, children: category.name }, category.id)) })
            ] })
          ] }),
          selectedCategory && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium mb-2", children: "Available Items" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "grid grid-cols-2 md:grid-cols-3 gap-2", children: ITEM_CATEGORIES.find((cat) => cat.id === selectedCategory)?.items.map((item) => /* @__PURE__ */ jsxRuntimeExports.jsxs(
              Button,
              {
                variant: "outline",
                onClick: () => handleAddItem(item),
                className: "justify-start",
                children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-4 w-4 mr-2" }),
                  item.name,
                  /* @__PURE__ */ jsxRuntimeExports.jsxs(Badge, { variant: "secondary", className: "ml-2", children: [
                    item.weight,
                    "kg"
                  ] })
                ]
              },
              item.name
            )) })
          ] }),
          selectedItems.length > 0 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium mb-2", children: "Selected Items" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "space-y-2", children: selectedItems.map((selected) => /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between p-2 border rounded", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "font-medium", children: selected.item.name }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs(Badge, { variant: "outline", children: [
                  selected.item.weight,
                  "kg each"
                ] })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: `qty-${selected.item.name}`, className: "text-sm", children: "Qty:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx(
                  Input,
                  {
                    id: `qty-${selected.item.name}`,
                    type: "number",
                    value: selected.quantity,
                    onChange: (e) => handleQuantityChange(selected.item.name, parseInt(e.target.value)),
                    className: "w-20",
                    min: "0"
                  }
                ),
                /* @__PURE__ */ jsxRuntimeExports.jsx(
                  Button,
                  {
                    variant: "ghost",
                    size: "sm",
                    onClick: () => handleRemoveItem(selected.item.name),
                    children: "Remove"
                  }
                )
              ] })
            ] }, selected.item.name)) })
          ] })
        ] }),
        estimationMethod === "density" && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-4", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "material", children: "Primary Material" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Select, { value: selectedMaterial, onValueChange: setSelectedMaterial, children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectTrigger, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(SelectValue, { placeholder: "Choose primary material" }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectContent, { children: Object.entries(MATERIAL_DENSITIES).map(([key, density]) => /* @__PURE__ */ jsxRuntimeExports.jsxs(SelectItem, { value: key, children: [
                key.charAt(0).toUpperCase() + key.slice(1),
                " (≈",
                density,
                " kg/L)"
              ] }, key)) })
            ] })
          ] }),
          selectedMaterial && dimensions && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { children: [
              "Density Factor: ",
              densityFactor[0],
              "%"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              Slider,
              {
                value: densityFactor,
                onValueChange: setDensityFactor,
                min: 10,
                max: 100,
                step: 5,
                className: "mt-2"
              }
            ),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600 mt-1", children: "Adjust based on how densely packed your items are" })
          ] }),
          !dimensions && /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Info, { className: "h-4 w-4" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: "Package dimensions are required for density-based estimation." })
          ] })
        ] }),
        estimationMethod === "custom" && /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "space-y-4", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "custom-weight", children: "Enter Weight (kg)" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            Input,
            {
              id: "custom-weight",
              type: "number",
              value: customWeight,
              onChange: (e) => setCustomWeight(parseFloat(e.target.value)),
              min: "0.1",
              step: "0.1",
              placeholder: "Enter weight in kg"
            }
          )
        ] }) }),
        dimensions && /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Info, { className: "h-4 w-4" }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs(AlertDescription, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Shipping Weight:" }),
            " The final shipping weight will be the greater of actual weight (",
            estimatedWeight.toFixed(2),
            "kg) or volumetric weight (",
            volumetricWeight.toFixed(2),
            "kg)."
          ] })
        ] })
      ] })
    ] })
  ] });
};
const PACKAGING_MATERIALS = [
  {
    id: "bubble-wrap",
    name: "Bubble Wrap",
    description: "Excellent for fragile items and cushioning",
    icon: "🫧",
    suitableFor: ["fragile", "electronics", "glassware"],
    protection: 9,
    cost: 3,
    eco: 4
  },
  {
    id: "foam-padding",
    name: "Foam Padding",
    description: "Superior protection for delicate items",
    icon: "🟡",
    suitableFor: ["electronics", "fragile", "artwork"],
    protection: 10,
    cost: 5,
    eco: 3
  },
  {
    id: "packing-peanuts",
    name: "Packing Peanuts",
    description: "Fill empty spaces, prevent movement",
    icon: "🥜",
    suitableFor: ["general", "electronics", "odd-shapes"],
    protection: 7,
    cost: 2,
    eco: 5
  },
  {
    id: "newspaper",
    name: "Newspaper/Paper",
    description: "Eco-friendly option for non-fragile items",
    icon: "📰",
    suitableFor: ["books", "clothing", "non-fragile"],
    protection: 5,
    cost: 1,
    eco: 9
  },
  {
    id: "air-pillows",
    name: "Air Pillows",
    description: "Lightweight void fill solution",
    icon: "💨",
    suitableFor: ["general", "clothing", "lightweight"],
    protection: 6,
    cost: 2,
    eco: 6
  }
];
const BOX_TYPES = [
  {
    id: "cardboard",
    name: "Cardboard Box",
    description: "Standard shipping box for most items",
    icon: "📦",
    strengthRating: 7,
    suitableFor: ["general", "books", "clothing"],
    maxWeight: 20,
    cost: 2
  },
  {
    id: "double-wall",
    name: "Double-Wall Box",
    description: "Extra strength for heavier items",
    icon: "📦",
    strengthRating: 9,
    suitableFor: ["heavy", "fragile", "electronics"],
    maxWeight: 50,
    cost: 4
  },
  {
    id: "padded-envelope",
    name: "Padded Envelope",
    description: "Lightweight protection for small items",
    icon: "📮",
    strengthRating: 5,
    suitableFor: ["documents", "small-electronics", "jewelry"],
    maxWeight: 2,
    cost: 1
  },
  {
    id: "tube",
    name: "Mailing Tube",
    description: "Perfect for documents and artwork",
    icon: "📜",
    strengthRating: 6,
    suitableFor: ["documents", "artwork", "posters"],
    maxWeight: 5,
    cost: 3
  }
];
const ITEM_SPECIFIC_GUIDELINES = {
  electronics: {
    title: "Electronics Packaging",
    icon: "📱",
    guidelines: [
      "Use anti-static bubble wrap or foam",
      "Include original packaging if available",
      "Ensure all cables are secured",
      'Add "FRAGILE" and "THIS SIDE UP" labels',
      "Consider insurance for valuable items"
    ],
    materials: ["foam-padding", "bubble-wrap", "air-pillows"],
    boxes: ["double-wall", "cardboard"]
  },
  fragile: {
    title: "Fragile Items",
    icon: "🔍",
    guidelines: [
      "Wrap each item individually",
      "Use plenty of cushioning material",
      "Fill all empty spaces to prevent movement",
      'Mark clearly as "FRAGILE"',
      "Consider double-boxing for very fragile items"
    ],
    materials: ["bubble-wrap", "foam-padding", "packing-peanuts"],
    boxes: ["double-wall", "cardboard"]
  },
  clothing: {
    title: "Clothing & Textiles",
    icon: "👔",
    guidelines: [
      "Fold items neatly to minimize wrinkles",
      "Use plastic bags for protection from moisture",
      "Consider vacuum sealing for space efficiency",
      "Add tissue paper for delicate fabrics"
    ],
    materials: ["newspaper", "air-pillows"],
    boxes: ["cardboard", "padded-envelope"]
  },
  books: {
    title: "Books & Documents",
    icon: "📚",
    guidelines: [
      "Wrap in plastic for moisture protection",
      "Use sturdy box to prevent bending",
      "Don't overpack - books are heavy",
      "Consider media mail for cost savings"
    ],
    materials: ["newspaper", "bubble-wrap"],
    boxes: ["cardboard", "double-wall"]
  },
  artwork: {
    title: "Artwork & Collectibles",
    icon: "🎨",
    guidelines: [
      "Use acid-free materials when possible",
      "Sandwich flat items between cardboard",
      "Consider professional art shipping services",
      "Include detailed handling instructions",
      "Document condition before shipping"
    ],
    materials: ["foam-padding", "bubble-wrap"],
    boxes: ["double-wall", "tube"]
  }
};
const PackagingRecommendations = ({
  packageType,
  weight = 0,
  dimensions,
  itemType = "general",
  value = 0
}) => {
  const [selectedGuideline, setSelectedGuideline] = reactExports.useState(itemType);
  const getPackagingScore = () => {
    let score2 = 0;
    score2 += 20;
    if (weight > 0 && weight <= 2) score2 += 20;
    else if (weight > 2 && weight <= 10) score2 += 15;
    else if (weight > 10) score2 += 10;
    if (dimensions) {
      const volume = dimensions.length * dimensions.width * dimensions.height;
      if (volume <= 1e4) score2 += 20;
      else if (volume <= 5e4) score2 += 15;
      else score2 += 10;
    }
    if (value > 100) score2 += 20;
    else if (value > 50) score2 += 15;
    else score2 += 10;
    if (itemType === "fragile") score2 += 20;
    else if (itemType === "electronics") score2 += 15;
    else score2 += 10;
    return Math.min(score2, 100);
  };
  const getRecommendedMaterials = () => {
    const guidelines2 = ITEM_SPECIFIC_GUIDELINES[itemType];
    if (!guidelines2) return PACKAGING_MATERIALS.slice(0, 3);
    return PACKAGING_MATERIALS.filter(
      (material) => guidelines2.materials.includes(material.id)
    );
  };
  const getRecommendedBoxes = () => {
    const guidelines2 = ITEM_SPECIFIC_GUIDELINES[itemType];
    if (!guidelines2) return BOX_TYPES.slice(0, 2);
    return BOX_TYPES.filter(
      (box) => guidelines2.boxes.includes(box.id) && box.maxWeight >= weight
    );
  };
  const score = getPackagingScore();
  const recommendedMaterials = getRecommendedMaterials();
  const recommendedBoxes = getRecommendedBoxes();
  const guidelines = ITEM_SPECIFIC_GUIDELINES[selectedGuideline];
  return /* @__PURE__ */ jsxRuntimeExports.jsxs(Dialog, { children: [
    /* @__PURE__ */ jsxRuntimeExports.jsx(DialogTrigger, { asChild: true, children: /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { variant: "outline", className: "w-full", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Shield, { className: "h-4 w-4 mr-2" }),
      "Packaging Guide"
    ] }) }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogContent, { className: "max-w-4xl", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(DialogHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-5 w-5" }),
        "Smart Packaging Recommendations"
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Packaging Assessment" }) }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-4", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex-1", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "text-2xl font-bold", children: [
                  score,
                  "/100"
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: score >= 80 ? "default" : score >= 60 ? "secondary" : "destructive", children: score >= 80 ? "Excellent" : score >= 60 ? "Good" : "Needs Improvement" })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(Progress, { value: score, className: "h-2" }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-gray-600 mt-1", children: "Based on item type, weight, dimensions, and value" })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-right", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm text-gray-600", children: [
                "Weight: ",
                weight,
                "kg"
              ] }),
              dimensions && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm text-gray-600", children: [
                "Dimensions: ",
                dimensions.length,
                "×",
                dimensions.width,
                "×",
                dimensions.height,
                "cm"
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm text-gray-600", children: [
                "Value: $",
                value
              ] })
            ] })
          ] }) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Tabs, { defaultValue: "recommendations", className: "w-full", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs(TabsList, { className: "grid w-full grid-cols-3", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "recommendations", children: "Recommendations" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "materials", children: "Materials" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "guidelines", children: "Guidelines" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(TabsContent, { value: "recommendations", className: "space-y-4", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Recommended Boxes" }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "space-y-3", children: recommendedBoxes.map((box) => /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between p-3 border rounded-lg", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-2xl", children: box.icon }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium", children: box.name }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: box.description })
                  ] })
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-right", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs(Badge, { variant: "outline", children: [
                    "Max ",
                    box.maxWeight,
                    "kg"
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm text-gray-600", children: [
                    "Strength: ",
                    box.strengthRating,
                    "/10"
                  ] })
                ] })
              ] }, box.id)) }) })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Recommended Materials" }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "space-y-3", children: recommendedMaterials.map((material) => /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between p-3 border rounded-lg", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-2xl", children: material.icon }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium", children: material.name }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: material.description })
                  ] })
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-right", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "flex gap-1", children: /* @__PURE__ */ jsxRuntimeExports.jsxs(Badge, { variant: "outline", children: [
                    "Protection: ",
                    material.protection,
                    "/10"
                  ] }) }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm text-gray-600", children: [
                    "Cost: ",
                    material.cost,
                    "/5 | Eco: ",
                    material.eco,
                    "/10"
                  ] })
                ] })
              ] }, material.id)) }) })
            ] })
          ] }) }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(TabsContent, { value: "materials", className: "space-y-4", children: /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: PACKAGING_MATERIALS.map((material) => /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-2xl", children: material.icon }),
                material.name
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: material.description })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm", children: "Protection:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx(Progress, { value: material.protection * 10, className: "h-2 w-20" })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm", children: "Cost:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx(Progress, { value: material.cost * 20, className: "h-2 w-20" })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm", children: "Eco-friendly:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx(Progress, { value: material.eco * 10, className: "h-2 w-20" })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "flex flex-wrap gap-1 mt-2", children: material.suitableFor.map((type) => /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "secondary", className: "text-xs", children: type }, type)) })
            ] }) })
          ] }, material.id)) }) }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs(TabsContent, { value: "guidelines", className: "space-y-4", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "flex gap-2 mb-4", children: Object.entries(ITEM_SPECIFIC_GUIDELINES).map(([key, guide]) => /* @__PURE__ */ jsxRuntimeExports.jsxs(
              Button,
              {
                variant: selectedGuideline === key ? "default" : "outline",
                onClick: () => setSelectedGuideline(key),
                children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "mr-2", children: guide.icon }),
                  guide.title
                ]
              },
              key
            )) }),
            guidelines && /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-2xl", children: guidelines.icon }),
                guidelines.title
              ] }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "space-y-3", children: guidelines.guidelines.map((guideline, index) => /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-start gap-2", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-4 w-4 text-green-500 mt-0.5 flex-shrink-0" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm", children: guideline })
              ] }, index)) }) })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(AlertTriangle, { className: "h-4 w-4" }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs(AlertDescription, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Important:" }),
            " Always consider the fragility and value of your items. For high-value items ($",
            ">",
            value > 100 ? value : "100",
            "+), consider additional insurance and signature confirmation. Weather conditions may also affect packaging choices."
          ] })
        ] })
      ] })
    ] })
  ] });
};
const PackageDetailsStep = ({ form }) => {
  const {
    register,
    watch,
    setValue,
    formState: { errors }
  } = form;
  const handleSizeSelect = (dimensions, type) => {
    setValue("packageLength", dimensions.length);
    setValue("packageWidth", dimensions.width);
    setValue("packageHeight", dimensions.height);
  };
  const handleWeightSelect = (weight2) => {
    setValue("packageWeight", weight2);
  };
  const watchedValues = watch(["packageLength", "packageWidth", "packageHeight", "packageWeight", "deliverySpeed"]);
  const [length, width, height, weight, deliverySpeed] = watchedValues;
  const volume = length && width && height ? length * width * height / 1e3 : 0;
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: "Provide detailed information about your package to ensure safe handling and accurate pricing." })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid gap-4 md:grid-cols-3", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        PackageSizeGuide,
        {
          onSizeSelect: handleSizeSelect,
          currentDimensions: length && width && height ? { length, width, height } : void 0
        }
      ),
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        WeightEstimator,
        {
          onWeightSelect: handleWeightSelect,
          currentWeight: weight,
          dimensions: length && width && height ? { length, width, height } : void 0
        }
      ),
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        PackagingRecommendations,
        {
          weight,
          dimensions: length && width && height ? { length, width, height } : void 0,
          value: watch("packageValue")
        }
      )
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "packageDescription", className: "text-sm font-medium", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(FileText, { className: "h-4 w-4 inline mr-1" }),
        "Package Description *"
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        Input,
        {
          id: "packageDescription",
          ...register("packageDescription"),
          placeholder: "Describe the contents (e.g., Electronics, Books, Clothing)",
          error: !!errors.packageDescription
        }
      ),
      errors.packageDescription && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.packageDescription.message })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2 text-lg", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Ruler, { className: "h-5 w-5" }),
          "Physical Dimensions"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: "Provide accurate measurements for proper handling and shipping cost calculation" })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "packageWeight", className: "text-sm font-medium", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(Weight, { className: "h-4 w-4 inline mr-1" }),
              "Weight (kg) *"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              Input,
              {
                id: "packageWeight",
                type: "number",
                ...register("packageWeight", { valueAsNumber: true }),
                placeholder: "1.0",
                min: "0.1",
                step: "0.1",
                error: !!errors.packageWeight
              }
            ),
            errors.packageWeight && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.packageWeight.message }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-xs text-gray-500", children: "Use Weight Estimator for smart suggestions" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "packageLength", className: "text-sm font-medium", children: "Length (cm) *" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              Input,
              {
                id: "packageLength",
                type: "number",
                ...register("packageLength", { valueAsNumber: true }),
                placeholder: "10",
                min: "1",
                step: "0.1",
                error: !!errors.packageLength
              }
            ),
            errors.packageLength && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.packageLength.message })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "packageWidth", className: "text-sm font-medium", children: "Width (cm) *" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              Input,
              {
                id: "packageWidth",
                type: "number",
                ...register("packageWidth", { valueAsNumber: true }),
                placeholder: "10",
                min: "1",
                step: "0.1",
                error: !!errors.packageWidth
              }
            ),
            errors.packageWidth && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.packageWidth.message })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "packageHeight", className: "text-sm font-medium", children: "Height (cm) *" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(
              Input,
              {
                id: "packageHeight",
                type: "number",
                ...register("packageHeight", { valueAsNumber: true }),
                placeholder: "10",
                min: "1",
                step: "0.1",
                error: !!errors.packageHeight
              }
            ),
            errors.packageHeight && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.packageHeight.message })
          ] })
        ] }),
        volume > 0 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "mt-4 p-3 bg-blue-50 rounded-lg", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm text-blue-800", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Calculated Volume:" }),
            " ",
            volume.toFixed(2),
            " liters",
            volume > 100 && /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "block text-yellow-700 mt-1", children: "⚠️ Large packages may incur additional handling fees" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-xs text-gray-600 mt-1", children: "Use Package Size Guide for standard dimensions or Packaging Guide for protection recommendations" })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(Label, { htmlFor: "packageValue", className: "text-sm font-medium", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(DollarSign, { className: "h-4 w-4 inline mr-1" }),
        "Package Value ($) *"
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        Input,
        {
          id: "packageValue",
          type: "number",
          ...register("packageValue", { valueAsNumber: true }),
          placeholder: "0.00",
          min: "0",
          step: "0.01",
          error: !!errors.packageValue
        }
      ),
      errors.packageValue && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.packageValue.message }),
      /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-500", children: "Used for insurance purposes. Enter 0 if no insurance needed." })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "specialInstructions", className: "text-sm font-medium", children: "Special Instructions (Optional)" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        "textarea",
        {
          id: "specialInstructions",
          ...register("specialInstructions"),
          placeholder: "Any special handling instructions or delivery notes...",
          className: "flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          rows: 3
        }
      ),
      /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-500", children: "Maximum 500 characters. Include any fragile, hazardous, or special handling requirements." })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Package Summary" }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: "Your package details are ready for service selection" })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 text-sm", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium text-gray-700", children: "Weight" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-lg", children: [
              weight || 0,
              " kg"
            ] })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium text-gray-700", children: "Dimensions" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-lg", children: length && width && height ? `${length}×${width}×${height} cm` : "Not set" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium text-gray-700", children: "Volume" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-lg", children: volume > 0 ? `${volume.toFixed(1)}L` : "Not set" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium text-gray-700", children: "Value" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-lg", children: [
              "$",
              (watch("packageValue") || 0).toFixed(2)
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-500 mt-4", children: "Complete all fields above, then proceed to service selection in the next step." })
      ] })
    ] })
  ] });
};
const SERVICE_OPTIONS = [
  {
    id: "STANDARD",
    name: "Standard Shipping",
    description: "Reliable and economical shipping for non-urgent deliveries",
    estimatedDays: { min: 5, max: 7 },
    baseCost: 12.99,
    icon: "📦",
    features: ["Basic tracking", "Delivery confirmation", "Up to $100 insurance"],
    restrictions: ["Business days only", "No signature required"],
    reliability: 85,
    tracking: "basic",
    insuranceIncluded: 100,
    signature: false
  },
  {
    id: "EXPRESS",
    name: "Express Shipping",
    description: "Faster delivery with enhanced tracking and priority handling",
    estimatedDays: { min: 2, max: 3 },
    baseCost: 20.99,
    icon: "🚚",
    features: ["Real-time tracking", "Priority handling", "Up to $300 insurance", "SMS notifications"],
    restrictions: ["Business days only", "Signature confirmation available"],
    reliability: 92,
    tracking: "enhanced",
    insuranceIncluded: 300,
    signature: true
  },
  {
    id: "OVERNIGHT",
    name: "Overnight Delivery",
    description: "Next business day delivery with premium service",
    estimatedDays: { min: 1, max: 1 },
    baseCost: 37.99,
    icon: "⚡",
    features: ["Next day delivery", "Premium tracking", "Up to $500 insurance", "Priority customer support", "Signature required"],
    restrictions: ["Business days only", "Cut-off time: 6 PM"],
    reliability: 96,
    tracking: "premium",
    insuranceIncluded: 500,
    signature: true
  }
];
const ServiceSelector = ({
  weight,
  dimensions,
  value,
  distance = 500,
  onServiceSelect,
  currentService = "STANDARD",
  origin = "New York",
  destination = "Los Angeles"
}) => {
  const [selectedService, setSelectedService] = reactExports.useState(currentService);
  const [priceBreakdown, setPriceBreakdown] = reactExports.useState({});
  const calculateServicePrice = (service) => {
    let price = service.baseCost;
    if (weight > 1) {
      price += (weight - 1) * 2.5;
    }
    if (dimensions) {
      const dimWeight = dimensions.length * dimensions.width * dimensions.height / 5e3;
      const billableWeight = Math.max(weight, dimWeight);
      if (billableWeight > weight) {
        price += (billableWeight - weight) * 1.5;
      }
    }
    if (distance > 300) {
      price += (distance - 300) * 0.02;
    }
    if (value > service.insuranceIncluded) {
      price += (value - service.insuranceIncluded) * 0.01;
    }
    const multipliers = {
      "STANDARD": 1,
      "EXPRESS": 1.6,
      "OVERNIGHT": 2.9
    };
    price *= multipliers[service.id];
    return Math.round(price * 100) / 100;
  };
  const calculatePriceBreakdown = (service) => {
    const basePrice = service.baseCost;
    const weightSurcharge = weight > 1 ? (weight - 1) * 2.5 : 0;
    const distanceSurcharge = distance > 300 ? (distance - 300) * 0.02 : 0;
    const insuranceSurcharge = value > service.insuranceIncluded ? (value - service.insuranceIncluded) * 0.01 : 0;
    let dimensionalSurcharge = 0;
    if (dimensions) {
      const dimWeight = dimensions.length * dimensions.width * dimensions.height / 5e3;
      const billableWeight = Math.max(weight, dimWeight);
      if (billableWeight > weight) {
        dimensionalSurcharge = (billableWeight - weight) * 1.5;
      }
    }
    return {
      basePrice,
      weightSurcharge,
      distanceSurcharge,
      insuranceSurcharge,
      dimensionalSurcharge,
      total: calculateServicePrice(service)
    };
  };
  const handleServiceSelect = (serviceId) => {
    setSelectedService(serviceId);
    onServiceSelect(serviceId);
  };
  const getDeliveryDate = (service) => {
    const now = /* @__PURE__ */ new Date();
    const minDate = new Date(now);
    const maxDate = new Date(now);
    minDate.setDate(now.getDate() + service.estimatedDays.min);
    maxDate.setDate(now.getDate() + service.estimatedDays.max);
    const formatDate = (date) => {
      return date.toLocaleDateString("en-US", {
        weekday: "short",
        month: "short",
        day: "numeric"
      });
    };
    if (service.estimatedDays.min === service.estimatedDays.max) {
      return formatDate(minDate);
    } else {
      return `${formatDate(minDate)} - ${formatDate(maxDate)}`;
    }
  };
  const getSavings = (service) => {
    const overnight = SERVICE_OPTIONS.find((s) => s.id === "OVERNIGHT");
    const overnightPrice = calculateServicePrice(overnight);
    const currentPrice = calculateServicePrice(service);
    const savings = overnightPrice - currentPrice;
    return savings > 0 ? savings : 0;
  };
  reactExports.useEffect(() => {
    const breakdown = {};
    SERVICE_OPTIONS.forEach((service) => {
      breakdown[service.id] = calculatePriceBreakdown(service);
    });
    setPriceBreakdown(breakdown);
  }, [weight, dimensions, value, distance]);
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-center", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx("h3", { className: "text-lg font-semibold mb-2", children: "Choose Your Shipping Service" }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm text-gray-600", children: [
        "From ",
        /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: origin }),
        " to ",
        /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: destination }),
        " • ",
        distance,
        " miles"
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Tabs, { defaultValue: "services", className: "w-full", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(TabsList, { className: "grid w-full grid-cols-2", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "services", children: "Service Options" }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "comparison", children: "Price Comparison" })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(TabsContent, { value: "services", className: "space-y-4", children: /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "space-y-4", children: SERVICE_OPTIONS.map((service) => {
        const price = calculateServicePrice(service);
        const savings = getSavings(service);
        const isSelected = selectedService === service.id;
        return /* @__PURE__ */ jsxRuntimeExports.jsxs(
          Card,
          {
            className: `cursor-pointer transition-all hover:shadow-md ${isSelected ? "ring-2 ring-blue-500 bg-blue-50" : ""}`,
            onClick: () => handleServiceSelect(service.id),
            children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { className: "pb-2", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-start justify-between", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-2xl", children: service.icon }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "text-lg flex items-center gap-2", children: [
                      service.name,
                      isSelected && /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-4 w-4 text-blue-500" })
                    ] }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: service.description })
                  ] })
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-right", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-2xl font-bold text-blue-600", children: [
                    "$",
                    price.toFixed(2)
                  ] }),
                  savings > 0 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm text-green-600", children: [
                    "Save $",
                    savings.toFixed(2)
                  ] })
                ] })
              ] }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 text-sm font-medium mb-1", children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsx(Clock, { className: "h-4 w-4" }),
                      "Delivery Time"
                    ] }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-lg font-semibold text-gray-900", children: service.estimatedDays.min === service.estimatedDays.max ? `${service.estimatedDays.min} day${service.estimatedDays.min > 1 ? "s" : ""}` : `${service.estimatedDays.min}-${service.estimatedDays.max} days` }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: getDeliveryDate(service) })
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 text-sm font-medium mb-1", children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsx(Star, { className: "h-4 w-4" }),
                      "Reliability"
                    ] }),
                    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsx(Progress, { value: service.reliability, className: "h-2 flex-1" }),
                      /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "text-sm font-medium", children: [
                        service.reliability,
                        "%"
                      ] })
                    ] }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "On-time delivery rate" })
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 text-sm font-medium mb-1", children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsx(Shield, { className: "h-4 w-4" }),
                      "Insurance"
                    ] }),
                    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-lg font-semibold text-gray-900", children: [
                      "$",
                      service.insuranceIncluded
                    ] }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Included coverage" })
                  ] })
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "mt-4 pt-4 border-t", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium text-sm mb-2", children: "Features" }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("ul", { className: "text-sm space-y-1", children: service.features.map((feature, index) => /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
                      feature
                    ] }, index)) })
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium text-sm mb-2", children: "Restrictions" }),
                    /* @__PURE__ */ jsxRuntimeExports.jsx("ul", { className: "text-sm space-y-1", children: service.restrictions.map((restriction, index) => /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
                      /* @__PURE__ */ jsxRuntimeExports.jsx(Info, { className: "h-3 w-3 text-blue-500" }),
                      restriction
                    ] }, index)) })
                  ] })
                ] }) })
              ] })
            ]
          },
          service.id
        );
      }) }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(TabsContent, { value: "comparison", className: "space-y-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Calculator, { className: "h-5 w-5" }),
            "Price Breakdown Comparison"
          ] }) }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("table", { className: "w-full text-sm", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("thead", { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("tr", { className: "border-b", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx("th", { className: "text-left p-2", children: "Service" }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("th", { className: "text-right p-2", children: "Base Price" }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("th", { className: "text-right p-2", children: "Weight Fee" }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("th", { className: "text-right p-2", children: "Distance Fee" }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("th", { className: "text-right p-2", children: "Insurance" }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("th", { className: "text-right p-2", children: "Dimensional" }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("th", { className: "text-right p-2 font-bold", children: "Total" })
            ] }) }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("tbody", { children: SERVICE_OPTIONS.map((service) => {
              const breakdown = priceBreakdown[service.id];
              if (!breakdown) return null;
              return /* @__PURE__ */ jsxRuntimeExports.jsxs("tr", { className: "border-b hover:bg-gray-50", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("td", { className: "p-2", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: service.icon }),
                  /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "font-medium", children: service.name })
                ] }) }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("td", { className: "text-right p-2", children: [
                  "$",
                  breakdown.basePrice.toFixed(2)
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("td", { className: "text-right p-2", children: [
                  "$",
                  breakdown.weightSurcharge.toFixed(2)
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("td", { className: "text-right p-2", children: [
                  "$",
                  breakdown.distanceSurcharge.toFixed(2)
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("td", { className: "text-right p-2", children: [
                  "$",
                  breakdown.insuranceSurcharge.toFixed(2)
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("td", { className: "text-right p-2", children: [
                  "$",
                  breakdown.dimensionalSurcharge.toFixed(2)
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("td", { className: "text-right p-2 font-bold", children: [
                  "$",
                  breakdown.total.toFixed(2)
                ] })
              ] }, service.id);
            }) })
          ] }) }) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Info, { className: "h-4 w-4" }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs(AlertDescription, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Pricing Details:" }),
            " Base price includes standard handling and delivery. Additional fees apply for weight over 1kg, distance over 300 miles, and insurance coverage above included amounts. All prices are estimates and may vary based on final route optimization."
          ] })
        ] })
      ] })
    ] })
  ] });
};
function Calendar({
  className,
  selected,
  onSelect,
  disabled,
  ...props
}) {
  const [currentDate, setCurrentDate] = reactExports.useState(/* @__PURE__ */ new Date());
  const today = /* @__PURE__ */ new Date();
  const year = currentDate.getFullYear();
  const month = currentDate.getMonth();
  const firstDayOfMonth = new Date(year, month, 1);
  const lastDayOfMonth = new Date(year, month + 1, 0);
  const firstDayWeekday = firstDayOfMonth.getDay();
  const daysInMonth = lastDayOfMonth.getDate();
  const monthNames = [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
  ];
  const weekDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
  const goToPreviousMonth = () => {
    setCurrentDate(new Date(year, month - 1, 1));
  };
  const goToNextMonth = () => {
    setCurrentDate(new Date(year, month + 1, 1));
  };
  const handleDateClick = (date) => {
    if (!disabled || !disabled(date)) {
      onSelect?.(date);
    }
  };
  const renderDays = () => {
    const days = [];
    for (let i = 0; i < firstDayWeekday; i++) {
      days.push(/* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "h-9 w-9" }, `empty-${i}`));
    }
    for (let day = 1; day <= daysInMonth; day++) {
      const date = new Date(year, month, day);
      const isSelected = selected && date.toDateString() === selected.toDateString();
      const isToday = date.toDateString() === today.toDateString();
      const isDisabled = disabled && disabled(date);
      days.push(
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Button,
          {
            variant: isSelected ? "default" : "ghost",
            size: "sm",
            className: cn(
              "h-9 w-9 p-0 font-normal",
              isToday && !isSelected && "bg-accent text-accent-foreground",
              isDisabled && "text-muted-foreground opacity-50 cursor-not-allowed"
            ),
            disabled: isDisabled,
            onClick: () => handleDateClick(date),
            children: day
          },
          day
        )
      );
    }
    return days;
  };
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: cn("p-3", className), children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-center pt-1 relative items-center mb-4", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        Button,
        {
          variant: "outline",
          size: "sm",
          className: "absolute left-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",
          onClick: goToPreviousMonth,
          children: /* @__PURE__ */ jsxRuntimeExports.jsx(ChevronLeft, { className: "h-4 w-4" })
        }
      ),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm font-medium", children: [
        monthNames[month],
        " ",
        year
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(
        Button,
        {
          variant: "outline",
          size: "sm",
          className: "absolute right-0 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",
          onClick: goToNextMonth,
          children: /* @__PURE__ */ jsxRuntimeExports.jsx(ChevronRight, { className: "h-4 w-4" })
        }
      )
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-7 gap-1", children: [
      weekDays.map((day) => /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "h-9 w-9 text-center text-sm font-normal text-muted-foreground flex items-center justify-center", children: day }, day)),
      renderDays()
    ] })
  ] });
}
Calendar.displayName = "Calendar";
var POPOVER_NAME = "Popover";
var [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [
  createPopperScope
]);
var usePopperScope = createPopperScope();
var [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);
var Popover$1 = (props) => {
  const {
    __scopePopover,
    children,
    open: openProp,
    defaultOpen,
    onOpenChange,
    modal = false
  } = props;
  const popperScope = usePopperScope(__scopePopover);
  const triggerRef = reactExports.useRef(null);
  const [hasCustomAnchor, setHasCustomAnchor] = reactExports.useState(false);
  const [open, setOpen] = useControllableState({
    prop: openProp,
    defaultProp: defaultOpen ?? false,
    onChange: onOpenChange,
    caller: POPOVER_NAME
  });
  return /* @__PURE__ */ jsxRuntimeExports.jsx(Root2$1, { ...popperScope, children: /* @__PURE__ */ jsxRuntimeExports.jsx(
    PopoverProvider,
    {
      scope: __scopePopover,
      contentId: useId(),
      triggerRef,
      open,
      onOpenChange: setOpen,
      onOpenToggle: reactExports.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),
      hasCustomAnchor,
      onCustomAnchorAdd: reactExports.useCallback(() => setHasCustomAnchor(true), []),
      onCustomAnchorRemove: reactExports.useCallback(() => setHasCustomAnchor(false), []),
      modal,
      children
    }
  ) });
};
Popover$1.displayName = POPOVER_NAME;
var ANCHOR_NAME = "PopoverAnchor";
var PopoverAnchor = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopePopover, ...anchorProps } = props;
    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);
    const popperScope = usePopperScope(__scopePopover);
    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;
    reactExports.useEffect(() => {
      onCustomAnchorAdd();
      return () => onCustomAnchorRemove();
    }, [onCustomAnchorAdd, onCustomAnchorRemove]);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });
  }
);
PopoverAnchor.displayName = ANCHOR_NAME;
var TRIGGER_NAME = "PopoverTrigger";
var PopoverTrigger$1 = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopePopover, ...triggerProps } = props;
    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);
    const popperScope = usePopperScope(__scopePopover);
    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);
    const trigger = /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.button,
      {
        type: "button",
        "aria-haspopup": "dialog",
        "aria-expanded": context.open,
        "aria-controls": context.contentId,
        "data-state": getState(context.open),
        ...triggerProps,
        ref: composedTriggerRef,
        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)
      }
    );
    return context.hasCustomAnchor ? trigger : /* @__PURE__ */ jsxRuntimeExports.jsx(Anchor, { asChild: true, ...popperScope, children: trigger });
  }
);
PopoverTrigger$1.displayName = TRIGGER_NAME;
var PORTAL_NAME = "PopoverPortal";
var [PortalProvider, usePortalContext] = createPopoverContext(PORTAL_NAME, {
  forceMount: void 0
});
var PopoverPortal = (props) => {
  const { __scopePopover, forceMount, children, container } = props;
  const context = usePopoverContext(PORTAL_NAME, __scopePopover);
  return /* @__PURE__ */ jsxRuntimeExports.jsx(PortalProvider, { scope: __scopePopover, forceMount, children: /* @__PURE__ */ jsxRuntimeExports.jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsxRuntimeExports.jsx(Portal$1, { asChild: true, container, children }) }) });
};
PopoverPortal.displayName = PORTAL_NAME;
var CONTENT_NAME = "PopoverContent";
var PopoverContent$1 = reactExports.forwardRef(
  (props, forwardedRef) => {
    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);
    const { forceMount = portalContext.forceMount, ...contentProps } = props;
    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsxRuntimeExports.jsx(PopoverContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsxRuntimeExports.jsx(PopoverContentNonModal, { ...contentProps, ref: forwardedRef }) });
  }
);
PopoverContent$1.displayName = CONTENT_NAME;
var Slot = createSlot("PopoverContent.RemoveScroll");
var PopoverContentModal = reactExports.forwardRef(
  (props, forwardedRef) => {
    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);
    const contentRef = reactExports.useRef(null);
    const composedRefs = useComposedRefs(forwardedRef, contentRef);
    const isRightClickOutsideRef = reactExports.useRef(false);
    reactExports.useEffect(() => {
      const content = contentRef.current;
      if (content) return hideOthers(content);
    }, []);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(ReactRemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsxRuntimeExports.jsx(
      PopoverContentImpl,
      {
        ...props,
        ref: composedRefs,
        trapFocus: context.open,
        disableOutsidePointerEvents: true,
        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {
          event.preventDefault();
          if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();
        }),
        onPointerDownOutside: composeEventHandlers(
          props.onPointerDownOutside,
          (event) => {
            const originalEvent = event.detail.originalEvent;
            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;
            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;
            isRightClickOutsideRef.current = isRightClick;
          },
          { checkForDefaultPrevented: false }
        ),
        onFocusOutside: composeEventHandlers(
          props.onFocusOutside,
          (event) => event.preventDefault(),
          { checkForDefaultPrevented: false }
        )
      }
    ) });
  }
);
var PopoverContentNonModal = reactExports.forwardRef(
  (props, forwardedRef) => {
    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);
    const hasInteractedOutsideRef = reactExports.useRef(false);
    const hasPointerDownOutsideRef = reactExports.useRef(false);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      PopoverContentImpl,
      {
        ...props,
        ref: forwardedRef,
        trapFocus: false,
        disableOutsidePointerEvents: false,
        onCloseAutoFocus: (event) => {
          props.onCloseAutoFocus?.(event);
          if (!event.defaultPrevented) {
            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();
            event.preventDefault();
          }
          hasInteractedOutsideRef.current = false;
          hasPointerDownOutsideRef.current = false;
        },
        onInteractOutside: (event) => {
          props.onInteractOutside?.(event);
          if (!event.defaultPrevented) {
            hasInteractedOutsideRef.current = true;
            if (event.detail.originalEvent.type === "pointerdown") {
              hasPointerDownOutsideRef.current = true;
            }
          }
          const target = event.target;
          const targetIsTrigger = context.triggerRef.current?.contains(target);
          if (targetIsTrigger) event.preventDefault();
          if (event.detail.originalEvent.type === "focusin" && hasPointerDownOutsideRef.current) {
            event.preventDefault();
          }
        }
      }
    );
  }
);
var PopoverContentImpl = reactExports.forwardRef(
  (props, forwardedRef) => {
    const {
      __scopePopover,
      trapFocus,
      onOpenAutoFocus,
      onCloseAutoFocus,
      disableOutsidePointerEvents,
      onEscapeKeyDown,
      onPointerDownOutside,
      onFocusOutside,
      onInteractOutside,
      ...contentProps
    } = props;
    const context = usePopoverContext(CONTENT_NAME, __scopePopover);
    const popperScope = usePopperScope(__scopePopover);
    useFocusGuards();
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      FocusScope,
      {
        asChild: true,
        loop: true,
        trapped: trapFocus,
        onMountAutoFocus: onOpenAutoFocus,
        onUnmountAutoFocus: onCloseAutoFocus,
        children: /* @__PURE__ */ jsxRuntimeExports.jsx(
          DismissableLayer,
          {
            asChild: true,
            disableOutsidePointerEvents,
            onInteractOutside,
            onEscapeKeyDown,
            onPointerDownOutside,
            onFocusOutside,
            onDismiss: () => context.onOpenChange(false),
            children: /* @__PURE__ */ jsxRuntimeExports.jsx(
              Content,
              {
                "data-state": getState(context.open),
                role: "dialog",
                id: context.contentId,
                ...popperScope,
                ...contentProps,
                ref: forwardedRef,
                style: {
                  ...contentProps.style,
                  // re-namespace exposed content custom properties
                  ...{
                    "--radix-popover-content-transform-origin": "var(--radix-popper-transform-origin)",
                    "--radix-popover-content-available-width": "var(--radix-popper-available-width)",
                    "--radix-popover-content-available-height": "var(--radix-popper-available-height)",
                    "--radix-popover-trigger-width": "var(--radix-popper-anchor-width)",
                    "--radix-popover-trigger-height": "var(--radix-popper-anchor-height)"
                  }
                }
              }
            )
          }
        )
      }
    );
  }
);
var CLOSE_NAME = "PopoverClose";
var PopoverClose = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopePopover, ...closeProps } = props;
    const context = usePopoverContext(CLOSE_NAME, __scopePopover);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(
      Primitive.button,
      {
        type: "button",
        ...closeProps,
        ref: forwardedRef,
        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))
      }
    );
  }
);
PopoverClose.displayName = CLOSE_NAME;
var ARROW_NAME = "PopoverArrow";
var PopoverArrow = reactExports.forwardRef(
  (props, forwardedRef) => {
    const { __scopePopover, ...arrowProps } = props;
    const popperScope = usePopperScope(__scopePopover);
    return /* @__PURE__ */ jsxRuntimeExports.jsx(Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });
  }
);
PopoverArrow.displayName = ARROW_NAME;
function getState(open) {
  return open ? "open" : "closed";
}
var Root2 = Popover$1;
var Trigger = PopoverTrigger$1;
var Portal = PopoverPortal;
var Content2 = PopoverContent$1;
const Popover = Root2;
const PopoverTrigger = Trigger;
const PopoverContent = reactExports.forwardRef(({ className, align = "center", sideOffset = 4, ...props }, ref) => /* @__PURE__ */ jsxRuntimeExports.jsx(Portal, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(
  Content2,
  {
    ref,
    align,
    sideOffset,
    className: cn(
      "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    ),
    ...props
  }
) }));
PopoverContent.displayName = Content2.displayName;
const TIME_SLOTS = [
  { id: "morning", label: "9:00 AM - 12:00 PM", available: true, premium: false },
  { id: "afternoon", label: "12:00 PM - 5:00 PM", available: true, premium: false },
  { id: "evening", label: "5:00 PM - 8:00 PM", available: true, premium: true },
  { id: "anytime", label: "Anytime (9:00 AM - 8:00 PM)", available: true, premium: false }
];
const PICKUP_SLOTS = [
  { id: "morning", label: "9:00 AM - 12:00 PM", available: true, premium: false },
  { id: "afternoon", label: "1:00 PM - 5:00 PM", available: true, premium: false },
  { id: "evening", label: "5:00 PM - 7:00 PM", available: false, premium: true }
];
const TimeWindowSelector = ({
  serviceType,
  onTimeWindowSelect,
  currentSelection = {}
}) => {
  const [pickupDate, setPickupDate] = reactExports.useState(currentSelection.pickupDate);
  const [pickupTimeSlot, setPickupTimeSlot] = reactExports.useState(currentSelection.pickupTimeSlot);
  const [deliveryDate, setDeliveryDate] = reactExports.useState(currentSelection.deliveryDate);
  const [deliveryTimeSlot, setDeliveryTimeSlot] = reactExports.useState(currentSelection.deliveryTimeSlot);
  const isWeekend = (date) => {
    const day = date.getDay();
    return day === 0 || day === 6;
  };
  const isHoliday = (date) => {
    const holidays = [
      /* @__PURE__ */ new Date("2024-12-25"),
      // Christmas
      /* @__PURE__ */ new Date("2024-01-01"),
      // New Year
      /* @__PURE__ */ new Date("2024-07-04")
      // Independence Day
    ];
    return holidays.some(
      (holiday) => date.toDateString() === holiday.toDateString()
    );
  };
  const getMinPickupDate = () => {
    const tomorrow = /* @__PURE__ */ new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    return tomorrow;
  };
  const getMinDeliveryDate = () => {
    if (!pickupDate) return /* @__PURE__ */ new Date();
    const minDelivery = new Date(pickupDate);
    const daysToAdd = {
      "STANDARD": 5,
      "EXPRESS": 2,
      "OVERNIGHT": 1
    }[serviceType] || 5;
    minDelivery.setDate(minDelivery.getDate() + daysToAdd);
    return minDelivery;
  };
  const getMaxDeliveryDate = () => {
    if (!pickupDate) return /* @__PURE__ */ new Date();
    const maxDelivery = new Date(pickupDate);
    const daysToAdd = {
      "STANDARD": 7,
      "EXPRESS": 3,
      "OVERNIGHT": 1
    }[serviceType] || 7;
    maxDelivery.setDate(maxDelivery.getDate() + daysToAdd);
    return maxDelivery;
  };
  const handlePickupDateChange = (date) => {
    setPickupDate(date);
    if (date && deliveryDate && deliveryDate < getMinDeliveryDate()) {
      setDeliveryDate(void 0);
    }
    updateSelection({ pickupDate: date });
  };
  const handlePickupTimeSlotChange = (slot) => {
    setPickupTimeSlot(slot);
    updateSelection({ pickupTimeSlot: slot });
  };
  const handleDeliveryDateChange = (date) => {
    setDeliveryDate(date);
    updateSelection({ deliveryDate: date });
  };
  const handleDeliveryTimeSlotChange = (slot) => {
    setDeliveryTimeSlot(slot);
    updateSelection({ deliveryTimeSlot: slot });
  };
  const updateSelection = (updates) => {
    onTimeWindowSelect({
      pickupDate,
      pickupTimeSlot,
      deliveryDate,
      deliveryTimeSlot,
      ...updates
    });
  };
  const isDateDisabled = (date, type) => {
    const today = /* @__PURE__ */ new Date();
    today.setHours(0, 0, 0, 0);
    if (type === "pickup") {
      return date < getMinPickupDate() || isWeekend(date) || isHoliday(date);
    } else {
      const minDate = getMinDeliveryDate();
      const maxDate = getMaxDeliveryDate();
      return date < minDate || date > maxDate || isWeekend(date) || isHoliday(date);
    }
  };
  const getEstimatedDeliveryRange = () => {
    if (!pickupDate) return null;
    const minDate = getMinDeliveryDate();
    const maxDate = getMaxDeliveryDate();
    return {
      min: minDate.toLocaleDateString("en-US", {
        weekday: "short",
        month: "short",
        day: "numeric"
      }),
      max: maxDate.toLocaleDateString("en-US", {
        weekday: "short",
        month: "short",
        day: "numeric"
      })
    };
  };
  const estimatedRange = getEstimatedDeliveryRange();
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-center", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx("h3", { className: "text-lg font-semibold mb-2", children: "Schedule Your Shipment" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-gray-600", children: "Choose pickup and delivery time windows that work for you" })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Calendar$1, { className: "h-5 w-5" }),
            "Pickup Schedule"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: "When should we pick up your package?" })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { className: "space-y-4", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("label", { className: "text-sm font-medium mb-2 block", children: "Pickup Date" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Popover, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(PopoverTrigger, { asChild: true, children: /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { variant: "outline", className: "w-full justify-start", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(Calendar$1, { className: "h-4 w-4 mr-2" }),
                pickupDate ? pickupDate.toLocaleDateString("en-US", {
                  weekday: "short",
                  month: "short",
                  day: "numeric"
                }) : "Select pickup date"
              ] }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(PopoverContent, { className: "w-auto p-0", children: /* @__PURE__ */ jsxRuntimeExports.jsx(
                Calendar,
                {
                  mode: "single",
                  selected: pickupDate,
                  onSelect: handlePickupDateChange,
                  disabled: (date) => isDateDisabled(date, "pickup"),
                  initialFocus: true
                }
              ) })
            ] })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("label", { className: "text-sm font-medium mb-2 block", children: "Pickup Time" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Select, { value: pickupTimeSlot, onValueChange: handlePickupTimeSlotChange, children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectTrigger, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(SelectValue, { placeholder: "Select time slot" }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectContent, { children: PICKUP_SLOTS.map((slot) => /* @__PURE__ */ jsxRuntimeExports.jsx(
                SelectItem,
                {
                  value: slot.id,
                  disabled: !slot.available,
                  children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between w-full", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: slot.label }),
                    slot.premium && /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "secondary", className: "ml-2", children: "Premium" }),
                    !slot.available && /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "destructive", className: "ml-2", children: "Unavailable" })
                  ] })
                },
                slot.id
              )) })
            ] })
          ] }),
          pickupDate && pickupTimeSlot && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "p-3 bg-green-50 rounded-lg flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-4 w-4 text-green-600" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "text-sm text-green-800", children: [
              "Pickup scheduled for ",
              pickupDate.toLocaleDateString(),
              " at ",
              PICKUP_SLOTS.find((s) => s.id === pickupTimeSlot)?.label
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Clock, { className: "h-5 w-5" }),
            "Delivery Schedule"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: "When would you like it delivered?" })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { className: "space-y-4", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("label", { className: "text-sm font-medium mb-2 block", children: "Delivery Date" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Popover, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(PopoverTrigger, { asChild: true, children: /* @__PURE__ */ jsxRuntimeExports.jsxs(
                Button,
                {
                  variant: "outline",
                  className: "w-full justify-start",
                  disabled: !pickupDate,
                  children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx(Calendar$1, { className: "h-4 w-4 mr-2" }),
                    deliveryDate ? deliveryDate.toLocaleDateString("en-US", {
                      weekday: "short",
                      month: "short",
                      day: "numeric"
                    }) : "Select delivery date"
                  ]
                }
              ) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(PopoverContent, { className: "w-auto p-0", children: /* @__PURE__ */ jsxRuntimeExports.jsx(
                Calendar,
                {
                  mode: "single",
                  selected: deliveryDate,
                  onSelect: handleDeliveryDateChange,
                  disabled: (date) => isDateDisabled(date, "delivery"),
                  initialFocus: true
                }
              ) })
            ] })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("label", { className: "text-sm font-medium mb-2 block", children: "Delivery Time" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(Select, { value: deliveryTimeSlot, onValueChange: handleDeliveryTimeSlotChange, children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectTrigger, { disabled: !deliveryDate, children: /* @__PURE__ */ jsxRuntimeExports.jsx(SelectValue, { placeholder: "Select time slot" }) }),
              /* @__PURE__ */ jsxRuntimeExports.jsx(SelectContent, { children: TIME_SLOTS.map((slot) => /* @__PURE__ */ jsxRuntimeExports.jsx(
                SelectItem,
                {
                  value: slot.id,
                  disabled: !slot.available,
                  children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between w-full", children: [
                    /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: slot.label }),
                    slot.premium && /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "secondary", className: "ml-2", children: "+$5" })
                  ] })
                },
                slot.id
              )) })
            ] })
          ] }),
          estimatedRange && /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(AlertCircle, { className: "h-4 w-4" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs(AlertDescription, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Estimated delivery:" }),
              " ",
              estimatedRange.min,
              estimatedRange.min !== estimatedRange.max && ` - ${estimatedRange.max}`
            ] })
          ] }),
          deliveryDate && deliveryTimeSlot && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "p-3 bg-blue-50 rounded-lg flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-4 w-4 text-blue-600" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "text-sm text-blue-800", children: [
              "Delivery scheduled for ",
              deliveryDate.toLocaleDateString(),
              " at ",
              TIME_SLOTS.find((s) => s.id === deliveryTimeSlot)?.label
            ] })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "text-lg", children: [
        "Service Level: ",
        serviceType
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium text-sm mb-2", children: "Pickup Options" }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("ul", { className: "text-sm space-y-1", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Next business day pickup"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Flexible time slots"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Free pickup service"
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium text-sm mb-2", children: "Delivery Options" }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("ul", { className: "text-sm space-y-1", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Business day delivery"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Signature confirmation"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Delivery notifications"
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium text-sm mb-2", children: "Additional Services" }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("ul", { className: "text-sm space-y-1", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Package tracking"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Insurance included"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("li", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
              "Customer support"
            ] })
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertCircle, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(AlertDescription, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Important:" }),
        " All times are in local time zones. Pickup and delivery are only available on business days (Monday-Friday). Premium time slots may incur additional charges. Weather conditions may affect scheduled times."
      ] })
    ] })
  ] });
};
const ServiceSelectionStep = ({ form }) => {
  const {
    watch,
    setValue,
    formState: { errors }
  } = form;
  const [selectedTimeWindow, setSelectedTimeWindow] = reactExports.useState({});
  const formData = watch();
  const {
    deliverySpeed,
    packageWeight,
    packageLength,
    packageWidth,
    packageHeight,
    packageValue,
    recipientAddress,
    senderAddress
  } = formData;
  const dimensions = packageLength && packageWidth && packageHeight ? { length: packageLength, width: packageWidth, height: packageHeight } : void 0;
  const handleServiceSelect = (service) => {
    setValue("deliverySpeed", service);
  };
  const handleTimeWindowSelect = (timeWindow) => {
    setSelectedTimeWindow(timeWindow);
  };
  const calculateEstimatedPrice = () => {
    let basePrice = 12.99;
    const multipliers = {
      "STANDARD": 1,
      "EXPRESS": 1.6,
      "OVERNIGHT": 2.9
    };
    if (deliverySpeed && multipliers[deliverySpeed]) {
      basePrice *= multipliers[deliverySpeed];
    }
    if (packageWeight && packageWeight > 1) {
      basePrice += (packageWeight - 1) * 2.5;
    }
    if (packageValue && packageValue > 100) {
      basePrice += packageValue * 0.01;
    }
    return basePrice;
  };
  const getServiceFeatures = (service) => {
    const features = {
      "STANDARD": [
        "Basic tracking",
        "Delivery confirmation",
        "Up to $100 insurance",
        "5-7 business days"
      ],
      "EXPRESS": [
        "Real-time tracking",
        "Priority handling",
        "Up to $300 insurance",
        "2-3 business days",
        "SMS notifications"
      ],
      "OVERNIGHT": [
        "Next day delivery",
        "Premium tracking",
        "Up to $500 insurance",
        "1 business day",
        "Signature required",
        "Priority customer support"
      ]
    };
    return features[service] || [];
  };
  const estimatedPrice = calculateEstimatedPrice();
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(Truck, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: "Choose your shipping service and schedule. Pricing is calculated based on your package details." })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Tabs, { defaultValue: "service", className: "w-full", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(TabsList, { className: "grid w-full grid-cols-3", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "service", children: "Service Level" }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "schedule", children: "Schedule" }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(TabsTrigger, { value: "summary", children: "Summary" })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(TabsContent, { value: "service", className: "space-y-4", children: /* @__PURE__ */ jsxRuntimeExports.jsx(
        ServiceSelector,
        {
          weight: packageWeight || 1,
          dimensions,
          value: packageValue || 0,
          onServiceSelect: handleServiceSelect,
          currentService: deliverySpeed,
          origin: senderAddress ? "Sender Location" : "Origin",
          destination: recipientAddress ? "Recipient Location" : "Destination"
        }
      ) }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(TabsContent, { value: "schedule", className: "space-y-4", children: deliverySpeed ? /* @__PURE__ */ jsxRuntimeExports.jsx(
        TimeWindowSelector,
        {
          serviceType: deliverySpeed,
          onTimeWindowSelect: handleTimeWindowSelect,
          currentSelection: selectedTimeWindow
        }
      ) : /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(Info, { className: "h-4 w-4" }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: "Please select a service level first to schedule your shipment." })
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(TabsContent, { value: "summary", className: "space-y-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(Truck, { className: "h-5 w-5" }),
              "Selected Service"
            ] }) }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: deliverySpeed ? /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "font-semibold text-lg", children: [
                    deliverySpeed.charAt(0) + deliverySpeed.slice(1).toLowerCase(),
                    " Shipping"
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm text-gray-600", children: [
                    deliverySpeed === "STANDARD" && "5-7 business days",
                    deliverySpeed === "EXPRESS" && "2-3 business days",
                    deliverySpeed === "OVERNIGHT" && "1 business day"
                  ] })
                ] }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-right", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-2xl font-bold text-blue-600", children: [
                    "$",
                    estimatedPrice.toFixed(2)
                  ] }),
                  /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Estimated cost" })
                ] })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium mb-2", children: "Included Features" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "flex flex-wrap gap-1", children: getServiceFeatures(deliverySpeed).map((feature, index) => /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "secondary", className: "text-xs", children: feature }, index)) })
              ] })
            ] }) : /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-center py-8 text-gray-500", children: "No service selected" }) })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(Clock, { className: "h-5 w-5" }),
              "Schedule Summary"
            ] }) }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-4", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium text-sm mb-2", children: "Pickup" }),
                selectedTimeWindow.pickupDate ? /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium", children: selectedTimeWindow.pickupDate.toLocaleDateString("en-US", {
                    weekday: "long",
                    year: "numeric",
                    month: "long",
                    day: "numeric"
                  }) }),
                  selectedTimeWindow.pickupTimeSlot && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-gray-600", children: [
                    "Time: ",
                    selectedTimeWindow.pickupTimeSlot
                  ] })
                ] }) : /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-500", children: "Not scheduled" })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("h4", { className: "font-medium text-sm mb-2", children: "Delivery" }),
                selectedTimeWindow.deliveryDate ? /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm", children: [
                  /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "font-medium", children: selectedTimeWindow.deliveryDate.toLocaleDateString("en-US", {
                    weekday: "long",
                    year: "numeric",
                    month: "long",
                    day: "numeric"
                  }) }),
                  selectedTimeWindow.deliveryTimeSlot && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-gray-600", children: [
                    "Time: ",
                    selectedTimeWindow.deliveryTimeSlot
                  ] })
                ] }) : /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-500", children: "Not scheduled" })
              ] })
            ] }) })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(DollarSign, { className: "h-5 w-5" }),
            "Cost Breakdown"
          ] }) }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: "Base shipping cost:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "font-medium", children: "$12.99" })
              ] }),
              deliverySpeed === "EXPRESS" && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: "Express surcharge:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "font-medium", children: "+$8.00" })
              ] }),
              deliverySpeed === "OVERNIGHT" && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: "Overnight surcharge:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "font-medium", children: "+$25.00" })
              ] }),
              packageWeight && packageWeight > 1 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: "Weight surcharge:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "font-medium", children: [
                  "+$",
                  ((packageWeight - 1) * 2.5).toFixed(2)
                ] })
              ] }),
              packageValue && packageValue > 100 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: "Additional insurance:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "font-medium", children: [
                  "+$",
                  (packageValue * 0.01).toFixed(2)
                ] })
              ] }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "border-t pt-2", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-base font-medium", children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: "Estimated Total:" }),
                /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { children: [
                  "$",
                  estimatedPrice.toFixed(2)
                ] })
              ] }) })
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-500 mt-2", children: "Final pricing will be calculated at confirmation based on exact route and current rates." })
          ] })
        ] })
      ] })
    ] }),
    errors.deliverySpeed && /* @__PURE__ */ jsxRuntimeExports.jsx(Alert, { variant: "destructive", children: /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: errors.deliverySpeed.message }) })
  ] });
};
const ConfirmationStep = ({ form }) => {
  const {
    register,
    watch,
    formState: { errors }
  } = form;
  const formData = watch();
  const getServiceDetails = (speed) => {
    switch (speed) {
      case "OVERNIGHT":
        return {
          name: "Overnight Delivery",
          days: "1 business day",
          description: "Next business day delivery with premium tracking",
          features: ["Premium tracking", "Signature required", "Up to $500 insurance"],
          price: 37.99,
          icon: "⚡"
        };
      case "EXPRESS":
        return {
          name: "Express Delivery",
          days: "2-3 business days",
          description: "Fast delivery with enhanced tracking",
          features: ["Real-time tracking", "SMS notifications", "Up to $300 insurance"],
          price: 20.99,
          icon: "🚚"
        };
      case "STANDARD":
        return {
          name: "Standard Delivery",
          days: "5-7 business days",
          description: "Reliable and economical shipping",
          features: ["Basic tracking", "Delivery confirmation", "Up to $100 insurance"],
          price: 12.99,
          icon: "📦"
        };
      default:
        return {
          name: "Standard Delivery",
          days: "5-7 business days",
          description: "Reliable and economical shipping",
          features: ["Basic tracking", "Delivery confirmation", "Up to $100 insurance"],
          price: 12.99,
          icon: "📦"
        };
    }
  };
  const calculateDetailedPricing = () => {
    const service = getServiceDetails(formData.deliverySpeed);
    const basePrice = service.price;
    const weightSurcharge = formData.packageWeight > 1 ? (formData.packageWeight - 1) * 2.5 : 0;
    const valueSurcharge = formData.packageValue > 100 ? formData.packageValue * 0.01 : 0;
    const volume = formData.packageLength * formData.packageWidth * formData.packageHeight;
    const dimensionalSurcharge = volume > 5e4 ? 15 : 0;
    const total = basePrice + weightSurcharge + valueSurcharge + dimensionalSurcharge;
    return {
      basePrice,
      weightSurcharge,
      valueSurcharge,
      dimensionalSurcharge,
      total
    };
  };
  const serviceDetails = getServiceDetails(formData.deliverySpeed);
  const pricing = calculateDetailedPricing();
  const generateTrackingNumber = () => {
    return `UPS${Date.now().toString().slice(-8)}`;
  };
  const getDeliveryDate = () => {
    const now = /* @__PURE__ */ new Date();
    const deliveryDate = new Date(now);
    switch (formData.deliverySpeed) {
      case "OVERNIGHT":
        deliveryDate.setDate(now.getDate() + 1);
        break;
      case "EXPRESS":
        deliveryDate.setDate(now.getDate() + 2);
        break;
      case "STANDARD":
        deliveryDate.setDate(now.getDate() + 5);
        break;
    }
    return deliveryDate.toLocaleDateString("en-US", {
      weekday: "long",
      year: "numeric",
      month: "long",
      day: "numeric"
    });
  };
  (12.99 + (formData.deliverySpeed === "EXPRESS" ? 8 : 0) + (formData.deliverySpeed === "OVERNIGHT" ? 25 : 0) + (formData.packageWeight > 5 ? (formData.packageWeight - 5) * 2 : 0)).toFixed(2);
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2 text-xl", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-6 w-6 text-green-500" }),
          "Order Review & Confirmation"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: "Review all information and confirm your shipment details" })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4 mb-4", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-center", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-2xl font-bold text-blue-600", children: generateTrackingNumber() }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Tracking Number" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-center", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-2xl font-bold text-green-600", children: [
              "$",
              pricing.total.toFixed(2)
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Total Cost" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-center", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-2xl font-bold text-purple-600", children: serviceDetails.days }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Delivery Time" })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(Progress, { value: 100, className: "h-2" }),
        /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-center mt-2 text-sm text-gray-600", children: "Ready to create shipment" })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2 text-lg", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(Truck, { className: "h-5 w-5" }),
        "Selected Service"
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-start gap-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-4xl", children: serviceDetails.icon }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex-1", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("h3", { className: "text-lg font-semibold", children: serviceDetails.name }),
            /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "outline", children: serviceDetails.days })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600 mb-3", children: serviceDetails.description }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "grid grid-cols-2 md:grid-cols-3 gap-2", children: serviceDetails.features.map((feature, index) => /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-1 text-sm", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(CheckCircle, { className: "h-3 w-3 text-green-500" }),
            feature
          ] }, index)) })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-right", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-2xl font-bold text-blue-600", children: [
            "$",
            pricing.total.toFixed(2)
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm text-gray-600", children: "Estimated delivery" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-sm font-medium", children: getDeliveryDate() })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid gap-6 lg:grid-cols-2", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center justify-between text-lg", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(User, { className: "h-5 w-5" }),
            "Sender Information"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(Button, { variant: "ghost", size: "sm", children: /* @__PURE__ */ jsxRuntimeExports.jsx(Pen, { className: "h-4 w-4" }) })
        ] }) }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { className: "space-y-3", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "p-3 bg-blue-50 rounded-lg", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(MapPin, { className: "h-4 w-4 text-blue-600" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm font-medium", children: "From" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "font-medium", children: formData.senderName }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600", children: formData.senderEmail }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600", children: formData.senderPhone }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600", children: formData.senderAddress })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center justify-between text-lg", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Navigation, { className: "h-5 w-5" }),
            "Recipient Information"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(Button, { variant: "ghost", size: "sm", children: /* @__PURE__ */ jsxRuntimeExports.jsx(Pen, { className: "h-4 w-4" }) })
        ] }) }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { className: "space-y-3", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "p-3 bg-green-50 rounded-lg", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(MapPin, { className: "h-4 w-4 text-green-600" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("span", { className: "text-sm font-medium", children: "To" })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "text-sm", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "font-medium", children: formData.recipientName }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600", children: formData.recipientEmail }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600", children: formData.recipientPhone }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600", children: formData.recipientAddress }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "mt-2 pt-2 border-t border-green-200", children: /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-gray-600", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Coordinates:" }),
              " (",
              formData.destinationX,
              ", ",
              formData.destinationY,
              ")"
            ] }) })
          ] })
        ] }) })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center justify-between text-lg", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-5 w-5" }),
          "Package Details"
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(Button, { variant: "ghost", size: "sm", children: /* @__PURE__ */ jsxRuntimeExports.jsx(Pen, { className: "h-4 w-4" }) })
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "grid gap-4 md:grid-cols-3", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm font-medium text-gray-700", children: "Description" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm", children: formData.packageDescription })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm font-medium text-gray-700", children: "Dimensions (L × W × H)" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm font-mono", children: [
              formData.packageLength,
              " × ",
              formData.packageWidth,
              " × ",
              formData.packageHeight,
              " cm"
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-xs text-gray-500", children: [
              "Volume: ",
              (formData.packageLength * formData.packageWidth * formData.packageHeight / 1e3).toFixed(1),
              "L"
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm font-medium text-gray-700", children: "Weight" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm font-mono", children: [
              formData.packageWeight,
              " kg"
            ] })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm font-medium text-gray-700", children: "Package Value" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm font-mono", children: [
              "$",
              formData.packageValue
            ] })
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm font-medium text-gray-700", children: "Insurance Coverage" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(Shield, { className: "h-4 w-4 text-blue-500" }),
              /* @__PURE__ */ jsxRuntimeExports.jsxs("p", { className: "text-sm", children: [
                "$",
                serviceDetails.features.find((f) => f.includes("insurance"))?.match(/\$\d+/)?.[0] || "$100"
              ] })
            ] })
          ] }),
          formData.specialInstructions && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm font-medium text-gray-700", children: "Special Instructions" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-gray-600 italic", children: formData.specialInstructions })
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2 text-lg", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(DollarSign, { className: "h-5 w-5" }),
        "Detailed Pricing Breakdown"
      ] }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-3", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Truck, { className: "h-4 w-4" }),
            "Base service (",
            serviceDetails.name,
            ")"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "font-medium", children: [
            "$",
            pricing.basePrice.toFixed(2)
          ] })
        ] }),
        pricing.weightSurcharge > 0 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-4 w-4" }),
            "Weight surcharge (",
            formData.packageWeight,
            "kg)"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "font-medium", children: [
            "+$",
            pricing.weightSurcharge.toFixed(2)
          ] })
        ] }),
        pricing.valueSurcharge > 0 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Shield, { className: "h-4 w-4" }),
            "Additional insurance"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "font-medium", children: [
            "+$",
            pricing.valueSurcharge.toFixed(2)
          ] })
        ] }),
        pricing.dimensionalSurcharge > 0 && /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-4 w-4" }),
            "Large package fee"
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "font-medium", children: [
            "+$",
            pricing.dimensionalSurcharge.toFixed(2)
          ] })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "border-t pt-3", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-lg font-bold", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx("span", { children: "Total Cost:" }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { className: "text-blue-600", children: [
              "$",
              pricing.total.toFixed(2)
            ] })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Final pricing confirmed upon package pickup" })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardHeader, { children: /* @__PURE__ */ jsxRuntimeExports.jsx(CardTitle, { className: "text-lg", children: "Terms and Conditions" }) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardContent, { className: "space-y-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-start space-x-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            "input",
            {
              id: "termsAccepted",
              type: "checkbox",
              ...register("termsAccepted"),
              className: "mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
            }
          ),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "termsAccepted", className: "text-sm font-medium cursor-pointer", children: "I accept the Terms and Conditions *" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-500 mt-1", children: "By checking this box, you agree to our shipping terms, conditions, and privacy policy." })
          ] })
        ] }),
        errors.termsAccepted && /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-sm text-red-600", children: errors.termsAccepted.message }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-start space-x-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(
            "input",
            {
              id: "marketingOptIn",
              type: "checkbox",
              ...register("marketingOptIn"),
              className: "mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
            }
          ),
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(Label, { htmlFor: "marketingOptIn", className: "text-sm font-medium cursor-pointer", children: "I would like to receive marketing emails (Optional)" }),
            /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Get updates about new services, promotions, and shipping tips." })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertTriangle, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(AlertDescription, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx("strong", { children: "Important:" }),
        " Once you create this shipment, you will not be able to modify the recipient information or package details. Please double-check all information above."
      ] })
    ] })
  ] });
};
const CreateShipmentPage = () => {
  const navigate = useNavigate();
  const { user } = useAuthStore();
  const [currentStep, setCurrentStep] = reactExports.useState(1);
  const [isDraftSaved, setIsDraftSaved] = reactExports.useState(false);
  const form = useForm({
    resolver: a(createShipmentSchema),
    mode: "onChange",
    defaultValues: {
      senderName: user?.name || "",
      senderEmail: user?.email || "",
      senderPhone: "",
      senderAddress: "",
      recipientName: "",
      recipientEmail: "",
      recipientPhone: "",
      recipientAddress: "",
      destinationX: 0,
      destinationY: 0,
      packageDescription: "",
      packageWeight: 1,
      packageLength: 10,
      packageWidth: 10,
      packageHeight: 10,
      packageValue: 0,
      deliverySpeed: "STANDARD",
      specialInstructions: "",
      termsAccepted: false,
      marketingOptIn: false
    }
  });
  const { watch, trigger, getValues, setValue } = form;
  const formData = watch();
  reactExports.useEffect(() => {
    const savedDraft = localStorage.getItem(DRAFT_STORAGE_KEY);
    if (savedDraft) {
      try {
        const parsedDraft = JSON.parse(savedDraft);
        Object.keys(parsedDraft).forEach((key) => {
          setValue(key, parsedDraft[key]);
        });
        toast.info("Draft loaded from previous session");
      } catch (error) {
        console.error("Failed to load draft:", error);
        localStorage.removeItem(DRAFT_STORAGE_KEY);
      }
    }
  }, [setValue]);
  reactExports.useEffect(() => {
    const timeoutId = setTimeout(() => {
      const currentData = getValues();
      localStorage.setItem(DRAFT_STORAGE_KEY, JSON.stringify(currentData));
      setIsDraftSaved(true);
      setTimeout(() => setIsDraftSaved(false), 2e3);
    }, 1e3);
    return () => clearTimeout(timeoutId);
  }, [formData, getValues]);
  const createShipmentMutation = useMutation({
    mutationFn: shipmentApi.createShipment,
    onSuccess: (response) => {
      localStorage.removeItem(DRAFT_STORAGE_KEY);
      toast.success("Shipment created successfully!");
      navigate(`/shipments/tracking/${response.tracking_number}`);
    },
    onError: (error) => {
      toast.error(`Failed to create shipment: ${error.message}`);
    }
  });
  const handleNext = async () => {
    const stepSchemas = [
      ["senderName", "senderEmail", "senderPhone", "senderAddress"],
      ["recipientName", "recipientEmail", "recipientPhone", "recipientAddress", "destinationX", "destinationY"],
      ["packageDescription", "packageWeight", "packageLength", "packageWidth", "packageHeight", "packageValue"],
      ["deliverySpeed"],
      ["termsAccepted"]
    ];
    const fieldsToValidate = stepSchemas[currentStep - 1];
    const isValid = await trigger(fieldsToValidate);
    if (isValid) {
      setCurrentStep((prev) => Math.min(prev + 1, FORM_STEPS.length));
    } else {
      toast.error("Please fix the errors before proceeding");
    }
  };
  const handlePrevious = () => {
    setCurrentStep((prev) => Math.max(prev - 1, 1));
  };
  const handleSubmit = async () => {
    const isValid = await trigger();
    if (!isValid) {
      toast.error("Please fix all errors before submitting");
      return;
    }
    const formData2 = getValues();
    const shipmentData = {
      recipient_name: formData2.recipientName,
      recipient_email: formData2.recipientEmail,
      recipient_phone: formData2.recipientPhone,
      recipient_address: formData2.recipientAddress,
      destination_x: formData2.destinationX,
      destination_y: formData2.destinationY,
      package_description: formData2.packageDescription,
      package_weight: formData2.packageWeight,
      package_dimensions: {
        length: formData2.packageLength,
        width: formData2.packageWidth,
        height: formData2.packageHeight
      },
      package_value: formData2.packageValue,
      delivery_speed: formData2.deliverySpeed,
      special_instructions: formData2.specialInstructions
    };
    createShipmentMutation.mutate(shipmentData);
  };
  const saveDraft = () => {
    const currentData = getValues();
    localStorage.setItem(DRAFT_STORAGE_KEY, JSON.stringify(currentData));
    toast.success("Draft saved successfully");
    setIsDraftSaved(true);
    setTimeout(() => setIsDraftSaved(false), 2e3);
  };
  const clearDraft = () => {
    localStorage.removeItem(DRAFT_STORAGE_KEY);
    form.reset();
    toast.info("Draft cleared");
  };
  const progress = currentStep / FORM_STEPS.length * 100;
  const renderStep = () => {
    switch (currentStep) {
      case 1:
        return /* @__PURE__ */ jsxRuntimeExports.jsx(SenderInfoStep, { form });
      case 2:
        return /* @__PURE__ */ jsxRuntimeExports.jsx(RecipientInfoStep, { form });
      case 3:
        return /* @__PURE__ */ jsxRuntimeExports.jsx(PackageDetailsStep, { form });
      case 4:
        return /* @__PURE__ */ jsxRuntimeExports.jsx(ServiceSelectionStep, { form });
      case 5:
        return /* @__PURE__ */ jsxRuntimeExports.jsx(ConfirmationStep, { form });
      default:
        return null;
    }
  };
  const isLastStep = currentStep === FORM_STEPS.length;
  const isFirstStep = currentStep === 1;
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "p-6 max-w-4xl mx-auto", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "mb-8", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center justify-between mb-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "flex items-center space-x-4", children: /* @__PURE__ */ jsxRuntimeExports.jsxs(
          "button",
          {
            onClick: () => navigate("/dashboard"),
            className: "inline-flex items-center text-blue-600 hover:text-blue-800",
            children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(ArrowLeft, { className: "h-4 w-4 mr-2" }),
              "Back to Dashboard"
            ]
          }
        ) }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: saveDraft,
              disabled: createShipmentMutation.isPending,
              children: [
                /* @__PURE__ */ jsxRuntimeExports.jsx(Save, { className: "h-4 w-4 mr-2" }),
                "Save Draft"
              ]
            }
          ),
          isDraftSaved && /* @__PURE__ */ jsxRuntimeExports.jsx(Badge, { variant: "outline", className: "text-green-600 border-green-600", children: "Draft Saved" })
        ] })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx("h1", { className: "text-3xl font-bold text-gray-900", children: "Create New Shipment" }),
          /* @__PURE__ */ jsxRuntimeExports.jsx("p", { className: "text-gray-600", children: "Follow the steps below to create your shipment" })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "space-y-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between text-sm text-gray-600", children: [
            /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { children: [
              "Step ",
              currentStep,
              " of ",
              FORM_STEPS.length
            ] }),
            /* @__PURE__ */ jsxRuntimeExports.jsxs("span", { children: [
              Math.round(progress),
              "% Complete"
            ] })
          ] }),
          /* @__PURE__ */ jsxRuntimeExports.jsx(Progress, { value: progress, className: "h-2" })
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "flex justify-between", children: FORM_STEPS.map((step) => /* @__PURE__ */ jsxRuntimeExports.jsxs(
          "div",
          {
            className: `flex-1 text-center ${step.id <= currentStep ? "text-blue-600" : "text-gray-400"}`,
            children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(
                "div",
                {
                  className: `w-8 h-8 rounded-full mx-auto mb-2 flex items-center justify-center text-sm font-medium ${step.id < currentStep ? "bg-blue-600 text-white" : step.id === currentStep ? "bg-blue-100 text-blue-600 border-2 border-blue-600" : "bg-gray-200 text-gray-400"}`,
                  children: step.id < currentStep ? "✓" : step.id
                }
              ),
              /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-xs font-medium", children: step.title }),
              /* @__PURE__ */ jsxRuntimeExports.jsx("div", { className: "text-xs text-gray-500", children: step.description })
            ]
          },
          step.id
        )) })
      ] })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs(Card, { children: [
      /* @__PURE__ */ jsxRuntimeExports.jsxs(CardHeader, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsxs(CardTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-5 w-5" }),
          FORM_STEPS[currentStep - 1].title
        ] }),
        /* @__PURE__ */ jsxRuntimeExports.jsx(CardDescription, { children: FORM_STEPS[currentStep - 1].description })
      ] }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(CardContent, { children: renderStep() })
    ] }),
    /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex justify-between items-center mt-8", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx("div", { children: !isFirstStep && /* @__PURE__ */ jsxRuntimeExports.jsxs(
        Button,
        {
          variant: "outline",
          onClick: handlePrevious,
          disabled: createShipmentMutation.isPending,
          children: [
            /* @__PURE__ */ jsxRuntimeExports.jsx(ArrowLeft, { className: "h-4 w-4 mr-2" }),
            "Previous"
          ]
        }
      ) }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs("div", { className: "flex space-x-4", children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(
          Button,
          {
            variant: "outline",
            onClick: clearDraft,
            disabled: createShipmentMutation.isPending,
            children: "Clear Form"
          }
        ),
        isLastStep ? /* @__PURE__ */ jsxRuntimeExports.jsx(
          Button,
          {
            onClick: handleSubmit,
            disabled: createShipmentMutation.isPending,
            className: "min-w-[120px]",
            children: createShipmentMutation.isPending ? "Creating..." : /* @__PURE__ */ jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [
              /* @__PURE__ */ jsxRuntimeExports.jsx(Package, { className: "h-4 w-4 mr-2" }),
              "Create Shipment"
            ] })
          }
        ) : /* @__PURE__ */ jsxRuntimeExports.jsxs(Button, { onClick: handleNext, disabled: createShipmentMutation.isPending, children: [
          "Next",
          /* @__PURE__ */ jsxRuntimeExports.jsx(ArrowRight, { className: "h-4 w-4 ml-2" })
        ] })
      ] })
    ] }),
    createShipmentMutation.error && /* @__PURE__ */ jsxRuntimeExports.jsxs(Alert, { variant: "destructive", className: "mt-4", children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertCircle, { className: "h-4 w-4" }),
      /* @__PURE__ */ jsxRuntimeExports.jsx(AlertDescription, { children: createShipmentMutation.error.message })
    ] })
  ] });
};
export {
  CreateShipmentPage
};
